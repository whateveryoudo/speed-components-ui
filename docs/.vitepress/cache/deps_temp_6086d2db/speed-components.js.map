{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/locale/zh-cn.js", "../../../../src/components/index.ts", "../../../../src/components/IconFont/index.tsx", "../../../../src/utils/base.ts", "../../../../src/hooks/useAntdCssVars.ts", "../../../../src/directives/vFocus.ts", "../../../../src/directives/vCopy.ts", "../../../../src/directives/vView.ts", "../../../../node_modules/.pnpm/viewerjs@1.11.7/node_modules/viewerjs/dist/viewer.esm.js", "../../../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/src/utils.ts", "../../../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/src/tags.ts", "../../../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/src/attrs.ts", "../../../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/src/regexp.ts", "../../../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/src/purify.ts", "../../../../src/directives/vLinkTransform.ts", "../../../../src/directives/vSelect.ts"],
  "sourcesContent": ["!function(e,_){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=_(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],_):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_zh_cn=_(e.dayjs)}(this,(function(e){\"use strict\";function _(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var t=_(e),d={name:\"zh-cn\",weekdays:\"星期日_星期一_星期二_星期三_星期四_星期五_星期六\".split(\"_\"),weekdaysShort:\"周日_周一_周二_周三_周四_周五_周六\".split(\"_\"),weekdaysMin:\"日_一_二_三_四_五_六\".split(\"_\"),months:\"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月\".split(\"_\"),monthsShort:\"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月\".split(\"_\"),ordinal:function(e,_){return\"W\"===_?e+\"周\":e+\"日\"},weekStart:1,yearStart:4,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY/MM/DD\",LL:\"YYYY年M月D日\",LLL:\"YYYY年M月D日Ah点mm分\",LLLL:\"YYYY年M月D日ddddAh点mm分\",l:\"YYYY/M/D\",ll:\"YYYY年M月D日\",lll:\"YYYY年M月D日 HH:mm\",llll:\"YYYY年M月D日dddd HH:mm\"},relativeTime:{future:\"%s内\",past:\"%s前\",s:\"几秒\",m:\"1 分钟\",mm:\"%d 分钟\",h:\"1 小时\",hh:\"%d 小时\",d:\"1 天\",dd:\"%d 天\",M:\"1 个月\",MM:\"%d 个月\",y:\"1 年\",yy:\"%d 年\"},meridiem:function(e,_){var t=100*e+_;return t<600?\"凌晨\":t<900?\"早上\":t<1100?\"上午\":t<1300?\"中午\":t<1800?\"下午\":\"晚上\"}};return t.default.locale(d,null,!0),d}));", "/*\r\n * @Author: ykx\r\n * @Date: 2023-02-06 18:06:47\r\n * @LastEditTime: 2024-03-19 11:39:25\r\n * @LastEditors: Anxure\r\n * @Description:\r\n */\r\nimport type { App, Component } from \"vue\";\r\nimport { computed, ref, defineComponent } from \"vue\";\r\nimport FullModal from \"./FullModal/index.vue\";\r\nimport CollapseHz from \"./CollapseHz/index.vue\";\r\nimport FilePreviewItem from \"./FilePreviewItem/index.vue\";\r\nimport IconFont from \"./IconFont/index\";\r\nimport KeyMapTip from \"./KeyMapTip/index.vue\";\r\nimport LazySelect from \"./LazySelect/index.vue\";\r\nimport SimpleTable from \"./SimpleTable/index.vue\";\r\nimport RangeNum from \"./RangeNum/index.vue\";\r\nimport TextMore from \"./TextMore/index.vue\";\r\nimport TagGroupSelect from \"./TagGroupSelect/index.vue\";\r\nimport QueryFilter from \"./QueryFilter/index.vue\";\r\nimport QuestionTip from \"./QuestionTip/index.vue\";\r\nimport ApiSelect from \"./ApiSelect/index.vue\";\r\nimport ToggleInput from \"./ToggleInput/index.vue\";\r\nimport ContentEditor from \"./ContentEditor/index.vue\";\r\nimport { useAntdCssVars } from \"../hooks\";\r\nimport { vFocus, vCopy, vView, vSelect, vLinkTransform } from \"../directives\";\r\nimport type { RequestResponse } from \"..\";\r\n// 组件列表\r\nconst components: Component[] = [\r\n  FullModal,\r\n  CollapseHz,\r\n  FilePreviewItem,\r\n  IconFont,\r\n  KeyMapTip,\r\n  LazySelect,\r\n  SimpleTable,\r\n  RangeNum,\r\n  TextMore,\r\n  TagGroupSelect,\r\n  QueryFilter,\r\n  ApiSelect,\r\n  ToggleInput,\r\n  ContentEditor,\r\n  QuestionTip,\r\n];\r\n\r\n// AJAX 方法类型\r\ntype AjaxMethod = (params?: any) => Promise<any>;\r\n\r\n// 全局配置类型\r\nexport interface GlobalConfig {\r\n  iconfontUrl?: string;\r\n  registerGlobal?: boolean; // 是否注册为全局组件\r\n  apis?: {\r\n    [key: string]: AjaxMethod;\r\n  };\r\n  // 全局转换请求响应（框架接收响应范式为：RequestResponse，可自行转换,能和后端协商最好）\r\n  transformRequsRes?: (res: any) => RequestResponse<any>;\r\n  // 使用useTable, useLoadMore的 一些配置\r\n  useLoadConfig: {\r\n    pageKey: string; // 全局page参数名，默认 page\r\n    pageSizekey: string; // 全局pageSize参数名 默认  pageSize\r\n  };\r\n}\r\n\r\n// 默认配置\r\nconst defaultConfig: GlobalConfig = {\r\n  registerGlobal: true,\r\n  iconfontUrl: import.meta.env.VITE_ICONFONT_URL,\r\n  apis: {},\r\n  useLoadConfig: {\r\n    pageKey: \"page\",\r\n    pageSizekey: \"size\",\r\n  },\r\n};\r\n\r\n// 使用 ref 创建响应式配置\r\nconst configRef = ref<GlobalConfig>({ ...defaultConfig });\r\n\r\n// 使用 computed 包装配置，确保响应式\r\nconst currentConfig = computed(() => configRef.value);\r\n\r\n// 设置全局配置\r\nexport const setConfig = (config: Partial<GlobalConfig>) => {\r\n  configRef.value = {\r\n    ...configRef.value,\r\n    ...config,\r\n  };\r\n};\r\n\r\nconst install = (app: App, config?: Partial<GlobalConfig>) => {\r\n  // 合并配置\r\n  if (config) {\r\n    setConfig(config);\r\n  }\r\n\r\n  // 注册组件\r\n  if (currentConfig.value.registerGlobal) {\r\n    components.forEach((component) => {\r\n      app.component(component.name as string, component as any);\r\n    });\r\n  }\r\n\r\n  // 注入响应式配置\r\n  app.provide(\"speed-components-config\", currentConfig);\r\n\r\n  // 使用 Ant Design Vue CSS 变量\r\n  const cleanup = useAntdCssVars();\r\n  // 注册一些指令\r\n  app.directive(\"focus\", vFocus);\r\n  app.directive(\"copy\", vCopy);\r\n  app.directive(\"view\", vView);\r\n  app.directive(\"select\", vSelect);\r\n  app.directive(\"link-transform\", vLinkTransform);\r\n  // 在应用卸载时清理\r\n  app.unmount = () => {\r\n    cleanup();\r\n    app.unmount();\r\n  };\r\n};\r\n\r\nexport { default as FullModal } from \"./FullModal/index.vue\";\r\nexport { default as CollapseHz } from \"./CollapseHz/index.vue\";\r\nexport { default as FilePreviewItem } from \"./FilePreviewItem/index.vue\";\r\nexport { default as IconFont } from \"./IconFont/index\";\r\nexport { default as KeyMapTip } from \"./KeyMapTip/index.vue\";\r\nexport { default as LazySelect } from \"./LazySelect/index.vue\";\r\nexport { default as SimpleTable } from \"./SimpleTable/index.vue\";\r\nexport { default as RangeNum } from \"./RangeNum/index.vue\";\r\nexport { default as TagGroupSelect } from \"./TagGroupSelect/index.vue\";\r\nexport { default as QueryFilter } from \"./QueryFilter/index.vue\";\r\nexport { default as ApiSelect } from \"./ApiSelect/index.vue\";\r\nexport { default as ToggleInput } from \"./ToggleInput/index.vue\";\r\nexport { default as ContentEditor } from \"./ContentEditor/index.vue\";\r\nexport { default as TextMore } from \"./TextMore/index.vue\";\r\nexport { default as QuestionTip } from \"./QuestionTip/index.vue\";\r\n\r\nexport default {\r\n  install,\r\n  setConfig,\r\n  version: \"0.1.0\",\r\n};\r\n", "/*\r\n * @Author: ykx\r\n * @Date: 2022-05-30 17:13:19\r\n * @LastEditTime: 2024-01-22 14:44:32\r\n * @LastEditors: Anxure\r\n * @Description:支持iconfont & antd图标组件\r\n * @FilePath: \\easycube-apps\\packages\\components\\src\\globalComponents\\IconFont\\index.tsx\r\n */\r\n\r\nimport { type PropType, defineComponent, computed, unref, inject, ref } from 'vue';\r\nimport { createFromIconfontCN } from '@ant-design/icons-vue';\r\nexport default defineComponent({\r\n  name: 'SIconFont',\r\n  props: {\r\n    iconRender: {\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    type: {\r\n      type: String as PropType<string>,\r\n      default: '',\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      default: 'icon-',\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    size: {\r\n      type: [String, Number] as PropType<string | number>,\r\n      default: 14,\r\n    },\r\n    scriptUrl: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    imgModule: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    imgStyle: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  setup(props, { attrs, }) {\r\n    const config = inject('speed-components-config', ref({\r\n      iconfontUrl: ''\r\n    }));\r\n    let scriptUrls = [config?.value?.iconfontUrl];\r\n    const wrapStyleObj = computed(() => {\r\n      const { size, color } = props;\r\n      const fontSize = typeof size === 'string' ? parseInt(size) : size;\r\n      return {\r\n        fontSize: fontSize + 'px',\r\n        color,\r\n      };\r\n    });\r\n    if (props.iconRender) {\r\n      return () => {\r\n        return (\r\n          <props.iconRender\r\n            style={{ color: props.color, fontSize: props.size + 'px' }}\r\n          />\r\n        );\r\n      };\r\n    }\r\n    // 实例化组件\r\n    let MyIconfontComponent = createFromIconfontCN({\r\n      scriptUrl: scriptUrls,\r\n    });\r\n    if (props.scriptUrl) {\r\n      //整合外界传入的地址\r\n      scriptUrls = [...new Set(scriptUrls.concat(props.scriptUrl))];\r\n      MyIconfontComponent = createFromIconfontCN({\r\n        scriptUrl: scriptUrls,\r\n      });\r\n    }\r\n    return () => {\r\n      const { type, prefix, imgModule, imgStyle } = props;\r\n      return imgModule ? (\r\n        <img\r\n          style={{ ...unref(imgStyle), ...(attrs.style as any) }}\r\n          src={imgModule}\r\n        />\r\n      ) : (\r\n        <MyIconfontComponent\r\n          type={type.startsWith(prefix) ? type : prefix + type}\r\n          {...attrs}\r\n          style={{ ...unref(wrapStyleObj), ...(attrs.style as any) }}\r\n        />\r\n      );\r\n    };\r\n  },\r\n});\r\n", "/*\n * @Author: Anxure\n * @Desc: 工具函数类\n * @Date: 2022-07-07 14:55:43\n * @LastEditors: Anxure\n * @LastEditTime: 2024-05-10 09:59:06\n */\nimport type { Schema } from '@/types';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport 'dayjs/locale/zh-cn';\ndayjs.extend(customParseFormat);\n\nimport { cloneDeep } from 'lodash-es';\ninterface ParsedUrlQuery {\n  [key: string]: string | string[];\n}\n// 获取随机数\nexport function getRandomId() {\n  return Number(Math.random().toString().substr(3, 4) + Date.now()).toString(36);\n}\n// 随机带有字母数字的数\nexport const generateRandomString = (length = 4) => {\n  if (length < 2) {\n    throw new Error('传入长度最小为两位');\n  }\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n  const numbers = '0123456789';\n\n  // 随机选择一个字母和一个数字\n  const letter = characters.charAt(Math.floor(Math.random() * characters.length));\n  const number = numbers.charAt(Math.floor(Math.random() * numbers.length));\n\n  // 剩余的位置随机填充数字或字母\n  const remainingChars = characters + numbers;\n  let result = [letter, number];\n\n  for (let i = 0; i < length - 2; i++) {\n    result.push(remainingChars.charAt(Math.floor(Math.random() * remainingChars.length)));\n  }\n\n  // 打乱数组顺序以确保随机性\n  result = result.sort(() => Math.random() - 0.5);\n\n  return result.join('');\n};\n\n// 获取本地文件\nexport const getSourceUrl = (name: string) => {\n  return new URL(name, import.meta.url).href;\n};\nexport const getSrcUrl = (name: string) => {\n  return new URL(`/src/assets/image/${name}`, import.meta.url).href;\n};\nexport const evalFunc = (fn: string, args?: any) => {\n  try {\n    const Fun = Function; // 一个变量指向Function，防止有些前端编译工具报错\n    return args && args.length > 0 ? new Fun(...args, fn) : new Fun(fn);\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n};\n// 判断数字是否为空，这里会过滤0,参数请传入数字\nexport const isNumEmpty = (num?: number): num is undefined => {\n  return num === undefined || num === null;\n};\n// 这里存入全量数据\nexport function flattenTreeDataClosure(data: Schema[]) {\n  const treeData = cloneDeep(data);\n  const flattenData: {\n    name: string;\n    id: string;\n    parentKey: string;\n    type: string;\n  }[] = [];\n  function flattenTree(data: Schema[], parentKey: string) {\n    data.forEach((ele) => {\n      const { id, children } = ele;\n      flattenData.push({\n        parentKey,\n        name: ele?.name ?? '',\n        id: ele.id,\n        type: ele.id,\n      });\n      if (children) {\n        flattenTree(children, id);\n      }\n    });\n  }\n  flattenTree(treeData, '');\n  return flattenData;\n}\n// 3.给个节点0-0-1-0，找到ta所有的父级节点\nexport function findParent(item: string, flattenTree: any) {\n  const parentArr: Schema[] = []; // 存储所有的父级元素\n  function find(item: string, flattenTree: any) {\n    flattenTree.forEach((ele: any) => {\n      if (ele.id === item) {\n        parentArr.unshift(ele);\n        find(ele.parentKey, flattenTree);\n      }\n    });\n  }\n  find(item, flattenTree);\n  return parentArr;\n}\n/*\n *@functionName: 查找当前key 在树中的最近父节点\n *@params1: ${String} 唯一键\n *@params2: ${Array} 完整树结构\n *@returns ${String} 父节点key名\n */\nexport const getParentNode = (key: string, tree: Schema[], childrenKey: string): Schema | null => {\n  let parentNode: Schema | null = null;\n  for (let i = 0; i < tree.length; i++) {\n    const node: Record<string, any> = tree[i];\n    if (node[childrenKey]) {\n      if (node[childrenKey].some((item: Schema) => item.id === key)) {\n        parentNode = node as Schema;\n      } else if (getParentNode(key, node[childrenKey], childrenKey)) {\n        parentNode = getParentNode(key, node[childrenKey], childrenKey);\n      }\n    }\n  }\n  return parentNode;\n};\n/*\n *@functionName: 根据指定节点key获取指定节点全量数据\n *@params1: ${String} 唯一键\n *@params2: ${Array} 完整树结构\n */\nexport const getNodeByKey = (key: string, tree: any[], idKey = 'id'): Schema => {\n  let result;\n  for (let i = 0; i < tree.length; i++) {\n    const node = tree[i];\n    if (node[idKey] === key) {\n      result = node;\n    } else {\n      if (node.children && getNodeByKey(key, node.children)) {\n        result = getNodeByKey(key, node.children);\n      }\n    }\n  }\n  return result;\n};\n/** ************end*******************/\n\n\n/** *\n *\n * 获取请求的UUID，指定长度和进制,如\n * getUUID(8, 2)   //\"01001010\" 8 character (base=2)\n * getUUID(8, 10) // \"47473046\" 8 character ID (base=10)\n * getUUID(8, 16) // \"098F4D35\"。 8 character ID (base=16)\n *\n */\nexport function getUUID(len: number, radix?: number) {\n  const chars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\n  const uuid = [];\n  let i;\n  radix = radix || chars.length;\n  if (len) {\n    for (i = 0; i < len; i++) uuid[i] = chars[0 | (Math.random() * radix)];\n  } else {\n    let r;\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n    uuid[14] = '4';\n    for (i = 0; i < 36; i++) {\n      if (!uuid[i]) {\n        r = 0 | (Math.random() * 16);\n        uuid[i] = chars[i === 19 ? (r & 0x3) | 0x8 : r];\n      }\n    }\n  }\n  return uuid.join('');\n}\n// 获取html的纯文本\nexport const getPlainTextFromHTML = (html: string) => {\n  // 创建一个临时的DOM容器\n  const tempDiv = document.createElement('div');\n  // 将HTML内容赋值给临时DOM元素\n  tempDiv.innerHTML = html;\n\n  // 使用textContent属性获取纯文本内容，这会忽略所有的HTML标签\n  const plainText = tempDiv.textContent || tempDiv.innerText;\n\n  // 返回纯文本\n  return plainText;\n};\nexport function getAaUUID(len: number, radix: number) {\n  const chars = 'abcdefghijklmnopqrstuvwxyz'.split('');\n  const uuid = [];\n  let i;\n  radix = radix || chars.length;\n  if (len) {\n    for (i = 0; i < len; i++) uuid[i] = chars[0 | (Math.random() * radix)];\n  } else {\n    let r;\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n    uuid[14] = '4';\n    for (i = 0; i < 36; i++) {\n      if (!uuid[i]) {\n        r = 0 | (Math.random() * 16);\n        uuid[i] = chars[i === 19 ? (r & 0x3) | 0x8 : r];\n      }\n    }\n  }\n  return uuid.join('');\n}\n\n// 将一维数组转化为tree\nexport const formatToTree = (\n  arr: { id: string; parentId: string; children: any[]; [key: string]: any }[],\n  pid: string,\n  pidName = 'parentId',\n) => {\n  return arr\n    .filter((item) => item[pidName] === pid)\n    .map((item) => {\n      // 通过父节点ID查询所有子节点\n      item.children = [...formatToTree(arr, item.id)];\n      return item;\n    });\n};\n\n// 将tree展开为一维数组\nexport const treeToList = (\n  tree: { id: string; children?: any[]; [key: string]: any }[],\n  childName = 'children',\n) => {\n  // 设置临时数组，用来存放队列\n  let queen = [] as any[];\n  // 设置输出数组，用来存放要输出的一维数组\n  const result = [];\n  queen = queen.concat(tree);\n  // 对树对象进行广度优先的遍历\n  while (queen.length) {\n    const first = queen.shift();\n    if (first[childName]) {\n      queen = queen.concat(first[childName]);\n      first[childName] = [];\n    }\n    result.unshift(first);\n  }\n  return result;\n};\nexport function flattenTreeDFS(tree: any) {\n  const result: any[] = [];\n  function dfs(node: any[]) {\n    for (let i = 0; i < node.length; i++) {\n      result.push({ ...node[i], children: [] });\n      if (node[i].children && node[i].children.length > 0) {\n        dfs(node[i].children);\n      }\n    }\n  }\n\n  dfs(tree);\n  return result;\n}\n\nexport const getMenuId = (): string => {\n  const time = new Date().getTime();\n  const random = Math.floor(Math.random() * 100000);\n  return time + random + '';\n};\n\n// 判断是否是表达式\nexport const isExpress = (val: any) => {\n  return val && val instanceof Object && val.type === 'express';\n};\n\n// 交换两个元素的位置\nexport const swapArr = (arr: any[], index1: number, index2: number) => {\n  arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n  return arr;\n};\n\n// 中文日期转换 2020年10月01日 => 2020-10-01, 不包含则不处理， 修改为dayjs处理(目前支持：YYYY年MM月DD日, YYYY年MM月DD日 HH时mm分ss秒, HH时mm分ss秒)\nexport const parseStr2Date = (dateStr?: string) => {\n  if (!dateStr) {\n    return undefined;\n  }\n  // 检查是否包含时分秒信息\n  const tempDate = dayjs(\n    dateStr,\n    [\n      'YYYY-MM-DD',\n      'YYYY-MM-DD HH:mm:ss',\n      'HH:mm:ss',\n      'YYYY年MM月DD日',\n      'YYYY年MM月DD日 HH时mm分ss秒',\n      'HH时mm分ss秒',\n    ],\n    'zh-cn',\n  );\n  // 这里仅校验 HH时mm分ss秒, HH:mm:ss\n  const timePattern =\n    /^(?:([01]\\d|2[0-3])时)?([0-5]\\d)分([0-5]\\d)秒|(?:([01]\\d|2[0-3]):([0-5]\\d):([0-5]\\d))$/;\n  const onlyTime = timePattern.test(dateStr);\n\n  const hasTimeInfo = tempDate.hour() !== 0 || tempDate.minute() !== 0 || tempDate.second() !== 0;\n  return tempDate.format(\n    onlyTime ? 'HH:mm:ss' : hasTimeInfo ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD',\n  );\n};\n\nexport const encodeUrlParams = (params: ParsedUrlQuery): string => {\n  return Object.keys(params)\n    .map((key) => {\n      const value = params[key];\n      if (Array.isArray(value)) {\n        return value.map((v) => `${encodeURIComponent(key)}=${encodeURIComponent(v)}`).join('&');\n      }\n      return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n    })\n    .join('&');\n};\n// 驼峰 => 横向连接\nexport const hump2line = (str: string) => {\n  let tuo = '';\n  const arr = str.split('');\n  const newArr = arr.map((ite: string) => {\n    return ite.toUpperCase() === ite ? (ite = '-' + ite.toLowerCase()) : ite;\n  });\n  tuo = newArr.join('');\n  return tuo;\n};\n\nexport function downloadBase64Img(base64String: string, fileName: string) {\n  // 创建一个虚拟的链接元素\n  const a = document.createElement('a');\n  a.href = base64String;\n  a.download = fileName;\n\n  // 模拟点击事件来触发下载\n  document.body.appendChild(a);\n  a.click();\n\n  // 清理\n  document.body.removeChild(a);\n}\n\nexport function formatTime(\n  time: number | string | Date = new Date(),\n  type = 'YYYY-MM-DD HH:mm:ss',\n) {\n  const date = new Date(time);\n  return time ? dayjs(date).format(type) : '';\n}\n/**\n * 格式化文件大小\n * @param bytes\n * @returns\n */\nexport function formatFileSize(bytes: number) {\n  if (bytes === 0) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\nexport const checkAgent = () => {\n  // 获取用户代理字符串\n  const userAgent = navigator.userAgent;\n  // 创建正则表达式匹配关键词\n  const mobileKeywords = ['Android', 'iPhone', 'iPad', 'Windows Phone', 'Mobile'];\n\n  // 判断是否为移动端设备\n  const isMobile = mobileKeywords.some(function (keyword) {\n    return userAgent.indexOf(keyword) !== -1;\n  });\n  return isMobile;\n};\n", "import { theme } from 'ant-design-vue';\n\nconst { defaultAlgorithm, defaultSeed } = theme;\n\n/**\n * 将驼峰命名转换为 kebab-case\n * @param str 驼峰命名的字符串\n * @returns kebab-case 格式的字符串\n */\nconst camelToKebab = (str: string): string => {\n  return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n};\n\n/**\n * 生成 Ant Design Vue 的 CSS 变量\n * @returns {void}\n */\nexport const useAntdCssVars = () => {\n  // 使用 defaultAlgorithm 和 defaultSeed 获取 token\n  const token = defaultAlgorithm(defaultSeed);\n\n  // 生成 CSS 变量内容\n  const generateCssVars = () => {\n    const cssVars: string[] = [];\n    \n    // 遍历 token 对象，生成 CSS 变量\n    Object.entries(token).forEach(([key, value]) => {\n      if (typeof value === 'string' || typeof value === 'number') {\n        // 将驼峰命名转换为 kebab-case\n        const kebabKey = camelToKebab(key);\n        cssVars.push(`--ant-${kebabKey}: ${value};`);\n      }\n    });\n\n    return `:root {\\n  ${cssVars.join('\\n  ')}\\n}`;\n  };\n  // 创建并插入 style 标签\n  const style = document.createElement('style');\n  style.id = 'antd-css-vars';\n  style.textContent = generateCssVars();\n  document.head.appendChild(style);\n\n  // 返回清理函数\n  return () => {\n    const style = document.getElementById('antd-css-vars');\n    if (style) {\n      document.head.removeChild(style);\n    }\n  };\n}; ", "export const vFocus = {\r\n  mounted(el?: HTMLElement) {\r\n    if (el?.tagName !== 'INPUT') {\r\n      el?.querySelector('input')?.focus()\r\n      return\r\n    }\r\n\r\n    el?.focus()\r\n  },\r\n}", "import { message } from 'ant-design-vue'\r\nexport const vCopy = {\r\n  mounted(el?: HTMLElement, binding?: any) {\r\n    if (el) {\r\n      el.addEventListener('click', () => {\r\n        // 首先去找 v-bind=\"值\", 如果没有值，则那 innerText 充当\r\n        const text = binding.arg || binding.value || el.innerText || ''\r\n        console.log(text);\r\n        // 一个兼容性不好的 API\r\n        if (navigator.clipboard) {\r\n          // clipboard api 复制\r\n          navigator.clipboard.writeText(text)\r\n          message.success('复制成功')\r\n        }\r\n\r\n        // 通用做法\r\n        else {\r\n          const textarea = document.createElement('textarea')\r\n\r\n          // Chrome 中不要这句也可以，但 FireFox 不行\r\n          document.body.appendChild(textarea)\r\n\r\n          // 隐藏输入框\r\n          textarea.style.position = 'fixed'\r\n          textarea.style.width = '0'\r\n          textarea.style.height = '0'\r\n          textarea.style.top = '10px'\r\n\r\n          // 赋值\r\n          textarea.value = text\r\n\r\n          // 选中\r\n          textarea.select()\r\n\r\n          // 复制\r\n          document.execCommand('copy', true)\r\n          \r\n          message.success('复制成功');\r\n          // 移除输入框\r\n          document.body.removeChild(textarea)\r\n        }\r\n      })\r\n    }\r\n  },\r\n}", "import 'viewerjs/dist/viewer.css';\r\nimport Viewer from 'viewerjs';\r\n\r\nexport const vView = {\r\n  mounted(el?: HTMLImageElement) {\r\n    if (el) {\r\n      el.style.cursor = 'zoom-in';\r\n\r\n      // 构造 viewer 实例\r\n      const viewer = new Viewer(el, {\r\n        // 内联展示\r\n        inline: false,\r\n\r\n        // 全屏预览时的缩放比例\r\n        viewed() {\r\n          viewer.zoomTo(0.8);\r\n        },\r\n        // 追加url处理（新版静态资源预览需要携带accessKey(公开地址),token(内部地址)）,未变化的地址也会重新再发送一遍请求？？\r\n        url(image: any) {\r\n          // console.log(image);\r\n          return image.src; // 图片路径\r\n        },\r\n      });\r\n\r\n      // 绑定事件监听\r\n      el.addEventListener('click', () => {\r\n        viewer.play();\r\n      });\r\n    }\r\n  },\r\n};\r\n", "/*!\n * Viewer.js v1.11.7\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2024-11-24T04:32:19.116Z\n */\n\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nvar DEFAULTS = {\n  /**\n   * Enable a modal backdrop, specify `static` for a backdrop\n   * which doesn't close the modal on click.\n   * @type {boolean}\n   */\n  backdrop: true,\n  /**\n   * Show the button on the top-right of the viewer.\n   * @type {boolean}\n   */\n  button: true,\n  /**\n   * Show the navbar.\n   * @type {boolean | number}\n   */\n  navbar: true,\n  /**\n   * Specify the visibility and the content of the title.\n   * @type {boolean | number | Function | Array}\n   */\n  title: true,\n  /**\n   * Show the toolbar.\n   * @type {boolean | number | Object}\n   */\n  toolbar: true,\n  /**\n   * Custom class name(s) to add to the viewer's root element.\n   * @type {string}\n   */\n  className: '',\n  /**\n   * Define where to put the viewer in modal mode.\n   * @type {string | Element}\n   */\n  container: 'body',\n  /**\n   * Filter the images for viewing. Return true if the image is viewable.\n   * @type {Function}\n   */\n  filter: null,\n  /**\n   * Enable to request fullscreen when play.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n   * @type {boolean|FullscreenOptions}\n   */\n  fullscreen: true,\n  /**\n   * Define the extra attributes to inherit from the original image.\n   * @type {Array}\n   */\n  inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n  /**\n   * Define the initial coverage of the viewing image.\n   * @type {number}\n   */\n  initialCoverage: 0.9,\n  /**\n   * Define the initial index of the image for viewing.\n   * @type {number}\n   */\n  initialViewIndex: 0,\n  /**\n   * Enable inline mode.\n   * @type {boolean}\n   */\n  inline: false,\n  /**\n   * The amount of time to delay between automatically cycling an image when playing.\n   * @type {number}\n   */\n  interval: 5000,\n  /**\n   * Enable keyboard support.\n   * @type {boolean}\n   */\n  keyboard: true,\n  /**\n   * Focus the viewer when initialized.\n   * @type {boolean}\n   */\n  focus: true,\n  /**\n   * Indicate if show a loading spinner when load image or not.\n   * @type {boolean}\n   */\n  loading: true,\n  /**\n   * Indicate if enable loop viewing or not.\n   * @type {boolean}\n   */\n  loop: true,\n  /**\n   * Min width of the viewer in inline mode.\n   * @type {number}\n   */\n  minWidth: 200,\n  /**\n   * Min height of the viewer in inline mode.\n   * @type {number}\n   */\n  minHeight: 100,\n  /**\n   * Enable to move the image.\n   * @type {boolean}\n   */\n  movable: true,\n  /**\n   * Enable to rotate the image.\n   * @type {boolean}\n   */\n  rotatable: true,\n  /**\n   * Enable to scale the image.\n   * @type {boolean}\n   */\n  scalable: true,\n  /**\n   * Enable to zoom the image.\n   * @type {boolean}\n   */\n  zoomable: true,\n  /**\n   * Enable to zoom the current image by dragging on the touch screen.\n   * @type {boolean}\n   */\n  zoomOnTouch: true,\n  /**\n   * Enable to zoom the image by wheeling mouse.\n   * @type {boolean}\n   */\n  zoomOnWheel: true,\n  /**\n   * Enable to slide to the next or previous image by swiping on the touch screen.\n   * @type {boolean}\n   */\n  slideOnTouch: true,\n  /**\n   * Indicate if toggle the image size between its natural size\n   * and initial size when double click on the image or not.\n   * @type {boolean}\n   */\n  toggleOnDblclick: true,\n  /**\n   * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n   * @type {boolean}\n   */\n  tooltip: true,\n  /**\n   * Enable CSS3 Transition for some special elements.\n   * @type {boolean}\n   */\n  transition: true,\n  /**\n   * Define the CSS `z-index` value of viewer in modal mode.\n   * @type {number}\n   */\n  zIndex: 2015,\n  /**\n   * Define the CSS `z-index` value of viewer in inline mode.\n   * @type {number}\n   */\n  zIndexInline: 0,\n  /**\n   * Define the ratio when zoom the image by wheeling mouse.\n   * @type {number}\n   */\n  zoomRatio: 0.1,\n  /**\n   * Define the min ratio of the image when zoom out.\n   * @type {number}\n   */\n  minZoomRatio: 0.01,\n  /**\n   * Define the max ratio of the image when zoom in.\n   * @type {number}\n   */\n  maxZoomRatio: 100,\n  /**\n   * Define where to get the original image URL for viewing.\n   * @type {string | Function}\n   */\n  url: 'src',\n  /**\n   * Event shortcuts.\n   * @type {Function}\n   */\n  ready: null,\n  show: null,\n  shown: null,\n  hide: null,\n  hidden: null,\n  view: null,\n  viewed: null,\n  move: null,\n  moved: null,\n  rotate: null,\n  rotated: null,\n  scale: null,\n  scaled: null,\n  zoom: null,\n  zoomed: null,\n  play: null,\n  stop: null\n};\n\nvar TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\nvar IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\nvar HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\nvar NAMESPACE = 'viewer';\n\n// Actions\nvar ACTION_MOVE = 'move';\nvar ACTION_SWITCH = 'switch';\nvar ACTION_ZOOM = 'zoom';\n\n// Classes\nvar CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\nvar CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\nvar CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\nvar CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\nvar CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\nvar CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\nvar CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\nvar CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\nvar CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\nvar CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\nvar CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\nvar CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\nvar CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\nvar CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\nvar CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\nvar CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\nvar CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\n\n// Native events\nvar EVENT_CLICK = 'click';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_DRAG_START = 'dragstart';\nvar EVENT_FOCUSIN = 'focusin';\nvar EVENT_KEY_DOWN = 'keydown';\nvar EVENT_LOAD = 'load';\nvar EVENT_ERROR = 'error';\nvar EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\nvar EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\nvar EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\nvar EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\nvar EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\nvar EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\nvar EVENT_RESIZE = 'resize';\nvar EVENT_TRANSITION_END = 'transitionend';\nvar EVENT_WHEEL = 'wheel';\n\n// Custom events\nvar EVENT_READY = 'ready';\nvar EVENT_SHOW = 'show';\nvar EVENT_SHOWN = 'shown';\nvar EVENT_HIDE = 'hide';\nvar EVENT_HIDDEN = 'hidden';\nvar EVENT_VIEW = 'view';\nvar EVENT_VIEWED = 'viewed';\nvar EVENT_MOVE = 'move';\nvar EVENT_MOVED = 'moved';\nvar EVENT_ROTATE = 'rotate';\nvar EVENT_ROTATED = 'rotated';\nvar EVENT_SCALE = 'scale';\nvar EVENT_SCALED = 'scaled';\nvar EVENT_ZOOM = 'zoom';\nvar EVENT_ZOOMED = 'zoomed';\nvar EVENT_PLAY = 'play';\nvar EVENT_STOP = 'stop';\n\n// Data keys\nvar DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n\n// RegExps\nvar REGEXP_SPACES = /\\s\\s*/;\n\n// Misc\nvar BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n/**\n * Check if the given value is a string.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n */\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n      var length = data.length;\n      var i;\n      for (i = 0; i < length; i += 1) {\n        if (callback.call(data, data[i], i, data) === false) {\n          break;\n        }\n      }\n    } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nvar assign = Object.assign || function assign(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (isObject(obj) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          obj[key] = arg[key];\n        });\n      }\n    });\n  }\n  return obj;\n};\nvar REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value += 'px';\n    }\n    style[property] = value;\n  });\n}\n\n/**\n * Escape a string for using in HTML.\n * @param {String} value - The string to escape.\n * @returns {String} Returns the escaped string.\n */\nfunction escapeHTMLEntities(value) {\n  return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  if (!element || !value) {\n    return false;\n  }\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!element || !value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n  var className = element.className.trim();\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = \"\".concat(className, \" \").concat(value);\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!element || !value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\nfunction hyphenate(value) {\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  }\n  if (element.dataset) {\n    return element.dataset[name];\n  }\n  return element.getAttribute(\"data-\".concat(hyphenate(name)));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n  }\n}\nvar onceSupported = function () {\n  var supported = false;\n  if (IS_BROWSER) {\n    var once = false;\n    var listener = function listener() {};\n    var options = Object.defineProperty({}, 'once', {\n      get: function get() {\n        supported = true;\n        return once;\n      },\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set(value) {\n        once = value;\n      }\n    });\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n  return supported;\n}();\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n    element.removeEventListener(event, handler, options);\n  });\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n        listeners = _element$listeners === void 0 ? {} : _element$listeners;\n      _handler = function handler() {\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        listener.apply(element, args);\n      };\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n    element.addEventListener(event, _handler, options);\n  });\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @param {Object} options - The additional event options.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data, options) {\n  var event;\n\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, _objectSpread2({\n      bubbles: true,\n      cancelable: true,\n      detail: data\n    }, options));\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n  return element.dispatchEvent(event);\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n    scaleX = _ref.scaleX,\n    scaleY = _ref.scaleY,\n    translateX = _ref.translateX,\n    translateY = _ref.translateY;\n  var values = [];\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push(\"translateX(\".concat(translateX, \"px)\"));\n  }\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push(\"translateY(\".concat(translateY, \"px)\"));\n  }\n\n  // Rotate should come first before scale to match orientation transform\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push(\"rotate(\".concat(rotate, \"deg)\"));\n  }\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push(\"scaleX(\".concat(scaleX, \")\"));\n  }\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push(\"scaleY(\".concat(scaleY, \")\"));\n  }\n  var transform = values.length ? values.join(' ') : 'none';\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get an image name from an image url.\n * @param {string} url - The target url.\n * @example\n * // picture.jpg\n * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n * @returns {string} A string contains the image name.\n */\nfunction getImageNameFromURL(url) {\n  return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n}\nvar IS_SAFARI = WINDOW.navigator && /Version\\/\\d+(\\.\\d+)+?\\s+Safari/i.test(WINDOW.navigator.userAgent);\n\n/**\n * Get an image's natural sizes.\n * @param {string} image - The target image.\n * @param {Object} options - The viewer options.\n * @param {Function} callback - The callback function.\n * @returns {HTMLImageElement} The new image.\n */\nfunction getImageNaturalSizes(image, options, callback) {\n  var newImage = document.createElement('img');\n\n  // Modern browsers (except Safari)\n  if (image.naturalWidth && !IS_SAFARI) {\n    callback(image.naturalWidth, image.naturalHeight);\n    return newImage;\n  }\n  var body = document.body || document.documentElement;\n  newImage.onload = function () {\n    callback(newImage.width, newImage.height);\n    if (!IS_SAFARI) {\n      body.removeChild(newImage);\n    }\n  };\n  forEach(options.inheritedAttributes, function (name) {\n    var value = image.getAttribute(name);\n    if (value !== null) {\n      newImage.setAttribute(name, value);\n    }\n  });\n  newImage.src = image.src;\n\n  // iOS Safari will convert the image automatically\n  // with its orientation once append it into DOM\n  if (!IS_SAFARI) {\n    newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n    body.appendChild(newImage);\n  }\n  return newImage;\n}\n\n/**\n * Get the related class name of a responsive type number.\n * @param {string} type - The responsive type.\n * @returns {string} The related class name.\n */\nfunction getResponsiveClass(type) {\n  switch (type) {\n    case 2:\n      return CLASS_HIDE_XS_DOWN;\n    case 3:\n      return CLASS_HIDE_SM_DOWN;\n    case 4:\n      return CLASS_HIDE_MD_DOWN;\n    default:\n      return '';\n  }\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = _objectSpread2({}, pointers);\n  var ratios = [];\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n      ratios.push(ratio);\n    });\n  });\n  ratios.sort(function (a, b) {\n    return Math.abs(a) < Math.abs(b);\n  });\n  return ratios[0];\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n    pageY = _ref2.pageY;\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n  return endOnly ? end : _objectSpread2({\n    timeStamp: Date.now(),\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n      startY = _ref3.startY;\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n  pageX /= count;\n  pageY /= count;\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initViewer();\n    this.initList();\n    this.renderViewer();\n  },\n  initBody: function initBody() {\n    var ownerDocument = this.element.ownerDocument;\n    var body = ownerDocument.body || ownerDocument.documentElement;\n    this.body = body;\n    this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n    this.initialBodyPaddingRight = body.style.paddingRight;\n    this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n  },\n  initContainer: function initContainer() {\n    this.containerData = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n  },\n  initViewer: function initViewer() {\n    var options = this.options,\n      parent = this.parent;\n    var viewerData;\n    if (options.inline) {\n      viewerData = {\n        width: Math.max(parent.offsetWidth, options.minWidth),\n        height: Math.max(parent.offsetHeight, options.minHeight)\n      };\n      this.parentData = viewerData;\n    }\n    if (this.fulled || !viewerData) {\n      viewerData = this.containerData;\n    }\n    this.viewerData = assign({}, viewerData);\n  },\n  renderViewer: function renderViewer() {\n    if (this.options.inline && !this.fulled) {\n      setStyle(this.viewer, this.viewerData);\n    }\n  },\n  initList: function initList() {\n    var _this = this;\n    var element = this.element,\n      options = this.options,\n      list = this.list;\n    var items = [];\n\n    // initList may be called in this.update, so should keep idempotent\n    list.innerHTML = '';\n    forEach(this.images, function (image, index) {\n      var src = image.src;\n      var alt = image.alt || getImageNameFromURL(src);\n      var url = _this.getImageURL(image);\n      if (src || url) {\n        var item = document.createElement('li');\n        var img = document.createElement('img');\n        forEach(options.inheritedAttributes, function (name) {\n          var value = image.getAttribute(name);\n          if (value !== null) {\n            img.setAttribute(name, value);\n          }\n        });\n        if (options.navbar) {\n          img.src = src || url;\n        }\n        img.alt = alt;\n        img.setAttribute('data-original-url', url || src);\n        item.setAttribute('data-index', index);\n        item.setAttribute('data-viewer-action', 'view');\n        item.setAttribute('role', 'button');\n        if (options.keyboard) {\n          item.setAttribute('tabindex', 0);\n        }\n        item.appendChild(img);\n        list.appendChild(item);\n        items.push(item);\n      }\n    });\n    this.items = items;\n    forEach(items, function (item) {\n      var image = item.firstElementChild;\n      var onLoad;\n      var onError;\n      setData(image, 'filled', true);\n      if (options.loading) {\n        addClass(item, CLASS_LOADING);\n      }\n      addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n        removeListener(image, EVENT_ERROR, onError);\n        if (options.loading) {\n          removeClass(item, CLASS_LOADING);\n        }\n        _this.loadImage(event);\n      }, {\n        once: true\n      });\n      addListener(image, EVENT_ERROR, onError = function onError() {\n        removeListener(image, EVENT_LOAD, onLoad);\n        if (options.loading) {\n          removeClass(item, CLASS_LOADING);\n        }\n      }, {\n        once: true\n      });\n    });\n    if (options.transition) {\n      addListener(element, EVENT_VIEWED, function () {\n        addClass(list, CLASS_TRANSITION);\n      }, {\n        once: true\n      });\n    }\n  },\n  renderList: function renderList() {\n    var index = this.index;\n    var item = this.items[index];\n    if (!item) {\n      return;\n    }\n    var next = item.nextElementSibling;\n    var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n    var offsetWidth = item.offsetWidth;\n    var outerWidth = offsetWidth + gutter;\n\n    // Place the active item in the center of the screen\n    setStyle(this.list, assign({\n      width: outerWidth * this.length - gutter\n    }, getTransforms({\n      translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n    })));\n  },\n  resetList: function resetList() {\n    var list = this.list;\n    list.innerHTML = '';\n    removeClass(list, CLASS_TRANSITION);\n    setStyle(list, getTransforms({\n      translateX: 0\n    }));\n  },\n  initImage: function initImage(done) {\n    var _this2 = this;\n    var options = this.options,\n      image = this.image,\n      viewerData = this.viewerData;\n    var footerHeight = this.footer.offsetHeight;\n    var viewerWidth = viewerData.width;\n    var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n    var oldImageData = this.imageData || {};\n    var sizingImage;\n    this.imageInitializing = {\n      abort: function abort() {\n        sizingImage.onload = null;\n      }\n    };\n    sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n      var aspectRatio = naturalWidth / naturalHeight;\n      var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\n      var width = viewerWidth;\n      var height = viewerHeight;\n      _this2.imageInitializing = false;\n      if (viewerHeight * aspectRatio > viewerWidth) {\n        height = viewerWidth / aspectRatio;\n      } else {\n        width = viewerHeight * aspectRatio;\n      }\n      initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\n      width = Math.min(width * initialCoverage, naturalWidth);\n      height = Math.min(height * initialCoverage, naturalHeight);\n      var left = (viewerWidth - width) / 2;\n      var top = (viewerHeight - height) / 2;\n      var imageData = {\n        left: left,\n        top: top,\n        x: left,\n        y: top,\n        width: width,\n        height: height,\n        oldRatio: 1,\n        ratio: width / naturalWidth,\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight\n      };\n      var initialImageData = assign({}, imageData);\n      if (options.rotatable) {\n        imageData.rotate = oldImageData.rotate || 0;\n        initialImageData.rotate = 0;\n      }\n      if (options.scalable) {\n        imageData.scaleX = oldImageData.scaleX || 1;\n        imageData.scaleY = oldImageData.scaleY || 1;\n        initialImageData.scaleX = 1;\n        initialImageData.scaleY = 1;\n      }\n      _this2.imageData = imageData;\n      _this2.initialImageData = initialImageData;\n      if (done) {\n        done();\n      }\n    });\n  },\n  renderImage: function renderImage(done) {\n    var _this3 = this;\n    var image = this.image,\n      imageData = this.imageData;\n    setStyle(image, assign({\n      width: imageData.width,\n      height: imageData.height,\n      // XXX: Not to use translateX/Y to avoid image shaking when zooming\n      marginLeft: imageData.x,\n      marginTop: imageData.y\n    }, getTransforms(imageData)));\n    if (done) {\n      if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n        var onTransitionEnd = function onTransitionEnd() {\n          _this3.imageRendering = false;\n          done();\n        };\n        this.imageRendering = {\n          abort: function abort() {\n            removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n          }\n        };\n        addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n          once: true\n        });\n      } else {\n        done();\n      }\n    }\n  },\n  resetImage: function resetImage() {\n    var image = this.image;\n    if (image) {\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n      image.parentNode.removeChild(image);\n      this.image = null;\n      this.title.innerHTML = '';\n    }\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var options = this.options,\n      viewer = this.viewer,\n      canvas = this.canvas;\n    var document = this.element.ownerDocument;\n    addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n    addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n    addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n    addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n    addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n    addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n    addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n        passive: false,\n        capture: true\n      });\n    }\n    if (options.toggleOnDblclick) {\n      addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var options = this.options,\n      viewer = this.viewer,\n      canvas = this.canvas;\n    var document = this.element.ownerDocument;\n    removeListener(viewer, EVENT_CLICK, this.onClick);\n    removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n    removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n    removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n    removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n    removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n    removeListener(window, EVENT_RESIZE, this.onResize);\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n        passive: false,\n        capture: true\n      });\n    }\n    if (options.toggleOnDblclick) {\n      removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n    }\n  }\n};\n\nvar handlers = {\n  click: function click(event) {\n    var options = this.options,\n      imageData = this.imageData;\n    var target = event.target;\n    var action = getData(target, DATA_ACTION);\n    if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n      target = target.parentElement;\n      action = getData(target, DATA_ACTION);\n    }\n\n    // Cancel the emulated click when the native click event was triggered.\n    if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n      clearTimeout(this.clickCanvasTimeout);\n    }\n    switch (action) {\n      case 'mix':\n        if (this.played) {\n          this.stop();\n        } else if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          } else {\n            this.full();\n          }\n        } else {\n          this.hide();\n        }\n        break;\n      case 'hide':\n        if (!this.pointerMoved) {\n          this.hide();\n        }\n        break;\n      case 'view':\n        this.view(getData(target, 'index'));\n        break;\n      case 'zoom-in':\n        this.zoom(0.1, true);\n        break;\n      case 'zoom-out':\n        this.zoom(-0.1, true);\n        break;\n      case 'one-to-one':\n        this.toggle();\n        break;\n      case 'reset':\n        this.reset();\n        break;\n      case 'prev':\n        this.prev(options.loop);\n        break;\n      case 'play':\n        this.play(options.fullscreen);\n        break;\n      case 'next':\n        this.next(options.loop);\n        break;\n      case 'rotate-left':\n        this.rotate(-90);\n        break;\n      case 'rotate-right':\n        this.rotate(90);\n        break;\n      case 'flip-horizontal':\n        this.scaleX(-imageData.scaleX || -1);\n        break;\n      case 'flip-vertical':\n        this.scaleY(-imageData.scaleY || -1);\n        break;\n      default:\n        if (this.played) {\n          this.stop();\n        }\n    }\n  },\n  dblclick: function dblclick(event) {\n    event.preventDefault();\n    if (this.viewed && event.target === this.image) {\n      // Cancel the emulated double click when the native dblclick event was triggered.\n      if (IS_TOUCH_DEVICE && event.isTrusted) {\n        clearTimeout(this.doubleClickImageTimeout);\n      }\n\n      // XXX: No pageX/Y properties in custom event, fallback to the original event.\n      this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n    }\n  },\n  load: function load() {\n    var _this = this;\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = false;\n    }\n    var element = this.element,\n      options = this.options,\n      image = this.image,\n      index = this.index,\n      viewerData = this.viewerData;\n    removeClass(image, CLASS_INVISIBLE);\n    if (options.loading) {\n      removeClass(this.canvas, CLASS_LOADING);\n    }\n    image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n    this.initImage(function () {\n      toggleClass(image, CLASS_MOVE, options.movable);\n      toggleClass(image, CLASS_TRANSITION, options.transition);\n      _this.renderImage(function () {\n        _this.viewed = true;\n        _this.viewing = false;\n        if (isFunction(options.viewed)) {\n          addListener(element, EVENT_VIEWED, options.viewed, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_VIEWED, {\n          originalImage: _this.images[index],\n          index: index,\n          image: image\n        }, {\n          cancelable: false\n        });\n      });\n    });\n  },\n  loadImage: function loadImage(event) {\n    var image = event.target;\n    var parent = image.parentNode;\n    var parentWidth = parent.offsetWidth || 30;\n    var parentHeight = parent.offsetHeight || 50;\n    var filled = !!getData(image, 'filled');\n    getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = parentWidth;\n      var height = parentHeight;\n      if (parentHeight * aspectRatio > parentWidth) {\n        if (filled) {\n          width = parentHeight * aspectRatio;\n        } else {\n          height = parentWidth / aspectRatio;\n        }\n      } else if (filled) {\n        height = parentWidth / aspectRatio;\n      } else {\n        width = parentHeight * aspectRatio;\n      }\n      setStyle(image, assign({\n        width: width,\n        height: height\n      }, getTransforms({\n        translateX: (parentWidth - width) / 2,\n        translateY: (parentHeight - height) / 2\n      })));\n    });\n  },\n  keydown: function keydown(event) {\n    var options = this.options;\n    if (!options.keyboard) {\n      return;\n    }\n    var keyCode = event.keyCode || event.which || event.charCode;\n    switch (keyCode) {\n      // Enter\n      case 13:\n        if (this.viewer.contains(event.target)) {\n          this.click(event);\n        }\n        break;\n    }\n    if (!this.fulled) {\n      return;\n    }\n    switch (keyCode) {\n      // Escape\n      case 27:\n        if (this.played) {\n          this.stop();\n        } else if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n        } else {\n          this.hide();\n        }\n        break;\n\n      // Space\n      case 32:\n        if (this.played) {\n          this.stop();\n        }\n        break;\n\n      // ArrowLeft\n      case 37:\n        if (this.played && this.playing) {\n          this.playing.prev();\n        } else {\n          this.prev(options.loop);\n        }\n        break;\n\n      // ArrowUp\n      case 38:\n        // Prevent scroll on Firefox\n        event.preventDefault();\n\n        // Zoom in\n        this.zoom(options.zoomRatio, true);\n        break;\n\n      // ArrowRight\n      case 39:\n        if (this.played && this.playing) {\n          this.playing.next();\n        } else {\n          this.next(options.loop);\n        }\n        break;\n\n      // ArrowDown\n      case 40:\n        // Prevent scroll on Firefox\n        event.preventDefault();\n\n        // Zoom out\n        this.zoom(-options.zoomRatio, true);\n        break;\n\n      // Ctrl + 0\n      case 48:\n      // Fall through\n\n      // Ctrl + 1\n      // eslint-disable-next-line no-fallthrough\n      case 49:\n        if (event.ctrlKey) {\n          event.preventDefault();\n          this.toggle();\n        }\n        break;\n    }\n  },\n  dragstart: function dragstart(event) {\n    if (event.target.localName === 'img') {\n      event.preventDefault();\n    }\n  },\n  pointerdown: function pointerdown(event) {\n    var options = this.options,\n      pointers = this.pointers;\n    var buttons = event.buttons,\n      button = event.button;\n    this.pointerMoved = false;\n    if (!this.viewed || this.showing || this.viewing || this.hiding\n\n    // Handle mouse event and pointer event and ignore touch event\n    || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n    // No primary button (Usually the left button)\n    isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n    // Open context menu\n    || event.ctrlKey)) {\n      return;\n    }\n\n    // Prevent default behaviours as page zooming in touch devices.\n    event.preventDefault();\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      pointers[event.pointerId || 0] = getPointer(event);\n    }\n    var action = options.movable ? ACTION_MOVE : false;\n    if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n      action = ACTION_ZOOM;\n    } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n      action = ACTION_SWITCH;\n    }\n    if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n      removeClass(this.image, CLASS_TRANSITION);\n    }\n    this.action = action;\n  },\n  pointermove: function pointermove(event) {\n    var pointers = this.pointers,\n      action = this.action;\n    if (!this.viewed || !action) {\n      return;\n    }\n    event.preventDefault();\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n    }\n    this.change(event);\n  },\n  pointerup: function pointerup(event) {\n    var _this2 = this;\n    var options = this.options,\n      action = this.action,\n      pointers = this.pointers;\n    var pointer;\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        pointer = pointers[touch.identifier];\n        delete pointers[touch.identifier];\n      });\n    } else {\n      pointer = pointers[event.pointerId || 0];\n      delete pointers[event.pointerId || 0];\n    }\n    if (!action) {\n      return;\n    }\n    event.preventDefault();\n    if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n      addClass(this.image, CLASS_TRANSITION);\n    }\n    this.action = false;\n\n    // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n    if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n      clearTimeout(this.clickCanvasTimeout);\n      clearTimeout(this.doubleClickImageTimeout);\n      if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n        if (this.imageClicked) {\n          this.imageClicked = false;\n\n          // This timeout will be cleared later when a native dblclick event is triggering\n          this.doubleClickImageTimeout = setTimeout(function () {\n            dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n              originalEvent: event\n            });\n          }, 50);\n        } else {\n          this.imageClicked = true;\n\n          // The default timing of a double click in Windows is 500 ms\n          this.doubleClickImageTimeout = setTimeout(function () {\n            _this2.imageClicked = false;\n          }, 500);\n        }\n      } else {\n        this.imageClicked = false;\n        if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n          // This timeout will be cleared later when a native click event is triggering\n          this.clickCanvasTimeout = setTimeout(function () {\n            dispatchEvent(_this2.canvas, EVENT_CLICK, {\n              originalEvent: event\n            });\n          }, 50);\n        }\n      }\n    }\n  },\n  resize: function resize() {\n    var _this3 = this;\n    if (!this.isShown || this.hiding) {\n      return;\n    }\n    if (this.fulled) {\n      this.close();\n      this.initBody();\n      this.open();\n    }\n    this.initContainer();\n    this.initViewer();\n    this.renderViewer();\n    this.renderList();\n    if (this.viewed) {\n      this.initImage(function () {\n        _this3.renderImage();\n      });\n    }\n    if (this.played) {\n      if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        this.stop();\n        return;\n      }\n      forEach(this.player.getElementsByTagName('img'), function (image) {\n        addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n          once: true\n        });\n        dispatchEvent(image, EVENT_LOAD);\n      });\n    }\n  },\n  wheel: function wheel(event) {\n    var _this4 = this;\n    if (!this.viewed) {\n      return;\n    }\n    event.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast\n    if (this.wheeling) {\n      return;\n    }\n    this.wheeling = true;\n    setTimeout(function () {\n      _this4.wheeling = false;\n    }, 50);\n    var ratio = Number(this.options.zoomRatio) || 0.1;\n    var delta = 1;\n    if (event.deltaY) {\n      delta = event.deltaY > 0 ? 1 : -1;\n    } else if (event.wheelDelta) {\n      delta = -event.wheelDelta / 120;\n    } else if (event.detail) {\n      delta = event.detail > 0 ? 1 : -1;\n    }\n    this.zoom(-delta * ratio, true, null, event);\n  }\n};\n\nvar methods = {\n  /** Show the viewer (only available in modal mode)\n   * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n   * @returns {Viewer} this\n   */\n  show: function show() {\n    var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var element = this.element,\n      options = this.options;\n    if (options.inline || this.showing || this.isShown || this.showing) {\n      return this;\n    }\n    if (!this.ready) {\n      this.build();\n      if (this.ready) {\n        this.show(immediate);\n      }\n      return this;\n    }\n    if (isFunction(options.show)) {\n      addListener(element, EVENT_SHOW, options.show, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n      return this;\n    }\n    if (this.hiding) {\n      this.transitioning.abort();\n    }\n    this.showing = true;\n    this.open();\n    var viewer = this.viewer;\n    removeClass(viewer, CLASS_HIDE);\n    viewer.setAttribute('role', 'dialog');\n    viewer.setAttribute('aria-labelledby', this.title.id);\n    viewer.setAttribute('aria-modal', true);\n    viewer.removeAttribute('aria-hidden');\n    if (options.transition && !immediate) {\n      var shown = this.shown.bind(this);\n      this.transitioning = {\n        abort: function abort() {\n          removeListener(viewer, EVENT_TRANSITION_END, shown);\n          removeClass(viewer, CLASS_IN);\n        }\n      };\n      addClass(viewer, CLASS_TRANSITION);\n\n      // Force reflow to enable CSS3 transition\n      viewer.initialOffsetWidth = viewer.offsetWidth;\n      addListener(viewer, EVENT_TRANSITION_END, shown, {\n        once: true\n      });\n      addClass(viewer, CLASS_IN);\n    } else {\n      addClass(viewer, CLASS_IN);\n      this.shown();\n    }\n    return this;\n  },\n  /**\n   * Hide the viewer (only available in modal mode)\n   * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n   * @returns {Viewer} this\n   */\n  hide: function hide() {\n    var _this = this;\n    var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var element = this.element,\n      options = this.options;\n    if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n      return this;\n    }\n    if (isFunction(options.hide)) {\n      addListener(element, EVENT_HIDE, options.hide, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_HIDE) === false) {\n      return this;\n    }\n    if (this.showing) {\n      this.transitioning.abort();\n    }\n    this.hiding = true;\n    if (this.played) {\n      this.stop();\n    } else if (this.viewing) {\n      this.viewing.abort();\n    }\n    var viewer = this.viewer,\n      image = this.image;\n    var hideImmediately = function hideImmediately() {\n      removeClass(viewer, CLASS_IN);\n      _this.hidden();\n    };\n    if (options.transition && !immediate) {\n      var _onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n        // Ignore all propagating `transitionend` events (#275).\n        if (event && event.target === viewer) {\n          removeListener(viewer, EVENT_TRANSITION_END, _onViewerTransitionEnd);\n          _this.hidden();\n        }\n      };\n      var onImageTransitionEnd = function onImageTransitionEnd() {\n        // In case of show the viewer by `viewer.show(true)` previously (#407).\n        if (hasClass(viewer, CLASS_TRANSITION)) {\n          addListener(viewer, EVENT_TRANSITION_END, _onViewerTransitionEnd);\n          removeClass(viewer, CLASS_IN);\n        } else {\n          hideImmediately();\n        }\n      };\n      this.transitioning = {\n        abort: function abort() {\n          if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n            removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n          } else if (hasClass(viewer, CLASS_TRANSITION)) {\n            removeListener(viewer, EVENT_TRANSITION_END, _onViewerTransitionEnd);\n          }\n        }\n      };\n\n      // In case of hiding the viewer when holding on the image (#255),\n      // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n      if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n        addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n          once: true\n        });\n        this.zoomTo(0, false, null, null, true);\n      } else {\n        onImageTransitionEnd();\n      }\n    } else {\n      hideImmediately();\n    }\n    return this;\n  },\n  /**\n   * View one of the images with image's index\n   * @param {number} index - The index of the image to view.\n   * @returns {Viewer} this\n   */\n  view: function view() {\n    var _this2 = this;\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n    index = Number(index) || 0;\n    if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n      return this;\n    }\n    if (!this.isShown) {\n      this.index = index;\n      return this.show();\n    }\n    if (this.viewing) {\n      this.viewing.abort();\n    }\n    var element = this.element,\n      options = this.options,\n      title = this.title,\n      canvas = this.canvas;\n    var item = this.items[index];\n    var img = item.querySelector('img');\n    var url = getData(img, 'originalUrl');\n    var alt = img.getAttribute('alt');\n    var image = document.createElement('img');\n    forEach(options.inheritedAttributes, function (name) {\n      var value = img.getAttribute(name);\n      if (value !== null) {\n        image.setAttribute(name, value);\n      }\n    });\n    image.src = url;\n    image.alt = alt;\n    if (isFunction(options.view)) {\n      addListener(element, EVENT_VIEW, options.view, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_VIEW, {\n      originalImage: this.images[index],\n      index: index,\n      image: image\n    }) === false || !this.isShown || this.hiding || this.played) {\n      return this;\n    }\n    var activeItem = this.items[this.index];\n    if (activeItem) {\n      removeClass(activeItem, CLASS_ACTIVE);\n      activeItem.removeAttribute('aria-selected');\n    }\n    addClass(item, CLASS_ACTIVE);\n    item.setAttribute('aria-selected', true);\n    if (options.focus) {\n      item.focus();\n    }\n    this.image = image;\n    this.viewed = false;\n    this.index = index;\n    this.imageData = {};\n    addClass(image, CLASS_INVISIBLE);\n    if (options.loading) {\n      addClass(canvas, CLASS_LOADING);\n    }\n    canvas.innerHTML = '';\n    canvas.appendChild(image);\n\n    // Center current item\n    this.renderList();\n\n    // Clear title\n    title.innerHTML = '';\n\n    // Generate title after viewed\n    var onViewed = function onViewed() {\n      var imageData = _this2.imageData;\n      var render = Array.isArray(options.title) ? options.title[1] : options.title;\n      title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n    };\n    var onLoad;\n    var onError;\n    addListener(element, EVENT_VIEWED, onViewed, {\n      once: true\n    });\n    this.viewing = {\n      abort: function abort() {\n        removeListener(element, EVENT_VIEWED, onViewed);\n        if (image.complete) {\n          if (_this2.imageRendering) {\n            _this2.imageRendering.abort();\n          } else if (_this2.imageInitializing) {\n            _this2.imageInitializing.abort();\n          }\n        } else {\n          // Cancel download to save bandwidth.\n          image.src = '';\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n          }\n        }\n      }\n    };\n    if (image.complete) {\n      this.load();\n    } else {\n      addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n        removeListener(image, EVENT_ERROR, onError);\n        _this2.load();\n      }, {\n        once: true\n      });\n      addListener(image, EVENT_ERROR, onError = function onError() {\n        removeListener(image, EVENT_LOAD, onLoad);\n        if (_this2.timeout) {\n          clearTimeout(_this2.timeout);\n          _this2.timeout = false;\n        }\n        removeClass(image, CLASS_INVISIBLE);\n        if (options.loading) {\n          removeClass(_this2.canvas, CLASS_LOADING);\n        }\n      }, {\n        once: true\n      });\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n\n      // Make the image visible if it fails to load within 1s\n      this.timeout = setTimeout(function () {\n        removeClass(image, CLASS_INVISIBLE);\n        _this2.timeout = false;\n      }, 1000);\n    }\n    return this;\n  },\n  /**\n   * View the previous image\n   * @param {boolean} [loop=false] - Indicate if view the last one\n   * when it is the first one at present.\n   * @returns {Viewer} this\n   */\n  prev: function prev() {\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var index = this.index - 1;\n    if (index < 0) {\n      index = loop ? this.length - 1 : 0;\n    }\n    this.view(index);\n    return this;\n  },\n  /**\n   * View the next image\n   * @param {boolean} [loop=false] - Indicate if view the first one\n   * when it is the last one at present.\n   * @returns {Viewer} this\n   */\n  next: function next() {\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var maxIndex = this.length - 1;\n    var index = this.index + 1;\n    if (index > maxIndex) {\n      index = loop ? 0 : maxIndex;\n    }\n    this.view(index);\n    return this;\n  },\n  /**\n   * Move the image with relative offsets.\n   * @param {number} x - The moving distance in the horizontal direction.\n   * @param {number} [y=x] The moving distance in the vertical direction.\n   * @returns {Viewer} this\n   */\n  move: function move(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var imageData = this.imageData;\n    this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n    return this;\n  },\n  /**\n   * Move the image to an absolute point.\n   * @param {number} x - The new position in the horizontal direction.\n   * @param {number} [y=x] - The new position in the vertical direction.\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @returns {Viewer} this\n   */\n  moveTo: function moveTo(x) {\n    var _this3 = this;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var element = this.element,\n      options = this.options,\n      imageData = this.imageData;\n    x = Number(x);\n    y = Number(y);\n    if (this.viewed && !this.played && options.movable) {\n      var oldX = imageData.x;\n      var oldY = imageData.y;\n      var changed = false;\n      if (isNumber(x)) {\n        changed = true;\n      } else {\n        x = oldX;\n      }\n      if (isNumber(y)) {\n        changed = true;\n      } else {\n        y = oldY;\n      }\n      if (changed) {\n        if (isFunction(options.move)) {\n          addListener(element, EVENT_MOVE, options.move, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_MOVE, {\n          x: x,\n          y: y,\n          oldX: oldX,\n          oldY: oldY,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        imageData.x = x;\n        imageData.y = y;\n        imageData.left = x;\n        imageData.top = y;\n        this.moving = true;\n        this.renderImage(function () {\n          _this3.moving = false;\n          if (isFunction(options.moved)) {\n            addListener(element, EVENT_MOVED, options.moved, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_MOVED, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n      }\n    }\n    return this;\n  },\n  /**\n   * Rotate the image with a relative degree.\n   * @param {number} degree - The rotate degree.\n   * @returns {Viewer} this\n   */\n  rotate: function rotate(degree) {\n    this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    return this;\n  },\n  /**\n   * Rotate the image to an absolute degree.\n   * @param {number} degree - The rotate degree.\n   * @returns {Viewer} this\n   */\n  rotateTo: function rotateTo(degree) {\n    var _this4 = this;\n    var element = this.element,\n      options = this.options,\n      imageData = this.imageData;\n    degree = Number(degree);\n    if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n      var oldDegree = imageData.rotate;\n      if (isFunction(options.rotate)) {\n        addListener(element, EVENT_ROTATE, options.rotate, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_ROTATE, {\n        degree: degree,\n        oldDegree: oldDegree\n      }) === false) {\n        return this;\n      }\n      imageData.rotate = degree;\n      this.rotating = true;\n      this.renderImage(function () {\n        _this4.rotating = false;\n        if (isFunction(options.rotated)) {\n          addListener(element, EVENT_ROTATED, options.rotated, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_ROTATED, {\n          degree: degree,\n          oldDegree: oldDegree\n        }, {\n          cancelable: false\n        });\n      });\n    }\n    return this;\n  },\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Viewer} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    this.scale(_scaleX, this.imageData.scaleY);\n    return this;\n  },\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Viewer} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    this.scale(this.imageData.scaleX, _scaleY);\n    return this;\n  },\n  /**\n   * Scale the image.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Viewer} this\n   */\n  scale: function scale(scaleX) {\n    var _this5 = this;\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var element = this.element,\n      options = this.options,\n      imageData = this.imageData;\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n    if (this.viewed && !this.played && options.scalable) {\n      var oldScaleX = imageData.scaleX;\n      var oldScaleY = imageData.scaleY;\n      var changed = false;\n      if (isNumber(scaleX)) {\n        changed = true;\n      } else {\n        scaleX = oldScaleX;\n      }\n      if (isNumber(scaleY)) {\n        changed = true;\n      } else {\n        scaleY = oldScaleY;\n      }\n      if (changed) {\n        if (isFunction(options.scale)) {\n          addListener(element, EVENT_SCALE, options.scale, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_SCALE, {\n          scaleX: scaleX,\n          scaleY: scaleY,\n          oldScaleX: oldScaleX,\n          oldScaleY: oldScaleY\n        }) === false) {\n          return this;\n        }\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n        this.scaling = true;\n        this.renderImage(function () {\n          _this5.scaling = false;\n          if (isFunction(options.scaled)) {\n            addListener(element, EVENT_SCALED, options.scaled, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_SCALED, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }, {\n            cancelable: false\n          });\n        });\n      }\n    }\n    return this;\n  },\n  /**\n   * Zoom the image with a relative ratio.\n   * @param {number} ratio - The target ratio.\n   * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\n   * @param {Object} [pivot] - The pivot point coordinate for zooming.\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @returns {Viewer} this\n   */\n  zoom: function zoom(ratio) {\n    var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var imageData = this.imageData;\n    ratio = Number(ratio);\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n    this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\n    return this;\n  },\n  /**\n   * Zoom the image to an absolute ratio.\n   * @param {number} ratio - The target ratio.\n   * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\n   * @param {Object} [pivot] - The pivot point coordinate for zooming.\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n   * @returns {Viewer} this\n   */\n  zoomTo: function zoomTo(ratio) {\n    var _this6 = this;\n    var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var element = this.element,\n      options = this.options,\n      pointers = this.pointers,\n      imageData = this.imageData;\n    var x = imageData.x,\n      y = imageData.y,\n      width = imageData.width,\n      height = imageData.height,\n      naturalWidth = imageData.naturalWidth,\n      naturalHeight = imageData.naturalHeight;\n    ratio = Math.max(0, ratio);\n    if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n      if (!_zoomable) {\n        var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n        var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n        ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n      }\n      if (_originalEvent) {\n        switch (_originalEvent.type) {\n          case 'wheel':\n            if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n              ratio = 1;\n            }\n            break;\n          case 'pointermove':\n          case 'touchmove':\n          case 'mousemove':\n            if (ratio > 0.99 && ratio < 1.01) {\n              ratio = 1;\n            }\n            break;\n        }\n      }\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n      var offsetWidth = newWidth - width;\n      var offsetHeight = newHeight - height;\n      var oldRatio = imageData.ratio;\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_ZOOM, {\n        ratio: ratio,\n        oldRatio: oldRatio,\n        originalEvent: _originalEvent\n      }) === false) {\n        return this;\n      }\n      this.zooming = true;\n      if (_originalEvent) {\n        var offset = getOffset(this.viewer);\n        var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n        imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        imageData.x -= offsetWidth * ((pivot.x - x) / width);\n        imageData.y -= offsetHeight * ((pivot.y - y) / height);\n      } else {\n        // Zoom from the center of the image\n        imageData.x -= offsetWidth / 2;\n        imageData.y -= offsetHeight / 2;\n      }\n      imageData.left = imageData.x;\n      imageData.top = imageData.y;\n      imageData.width = newWidth;\n      imageData.height = newHeight;\n      imageData.oldRatio = oldRatio;\n      imageData.ratio = ratio;\n      this.renderImage(function () {\n        _this6.zooming = false;\n        if (isFunction(options.zoomed)) {\n          addListener(element, EVENT_ZOOMED, options.zoomed, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_ZOOMED, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }, {\n          cancelable: false\n        });\n      });\n      if (showTooltip) {\n        this.tooltip();\n      }\n    }\n    return this;\n  },\n  /**\n   * Play the images\n   * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n   * @returns {Viewer} this\n   */\n  play: function play() {\n    var _this7 = this;\n    var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!this.isShown || this.played) {\n      return this;\n    }\n    var element = this.element,\n      options = this.options;\n    if (isFunction(options.play)) {\n      addListener(element, EVENT_PLAY, options.play, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_PLAY) === false) {\n      return this;\n    }\n    var player = this.player;\n    var onLoad = this.loadImage.bind(this);\n    var list = [];\n    var total = 0;\n    var index = 0;\n    this.played = true;\n    this.onLoadWhenPlay = onLoad;\n    if (fullscreen) {\n      this.requestFullscreen(fullscreen);\n    }\n    addClass(player, CLASS_SHOW);\n    forEach(this.items, function (item, i) {\n      var img = item.querySelector('img');\n      var image = document.createElement('img');\n      image.src = getData(img, 'originalUrl');\n      image.alt = img.getAttribute('alt');\n      image.referrerPolicy = img.referrerPolicy;\n      total += 1;\n      addClass(image, CLASS_FADE);\n      toggleClass(image, CLASS_TRANSITION, options.transition);\n      if (hasClass(item, CLASS_ACTIVE)) {\n        addClass(image, CLASS_IN);\n        index = i;\n      }\n      list.push(image);\n      addListener(image, EVENT_LOAD, onLoad, {\n        once: true\n      });\n      player.appendChild(image);\n    });\n    if (isNumber(options.interval) && options.interval > 0) {\n      var _prev = function prev() {\n        clearTimeout(_this7.playing.timeout);\n        removeClass(list[index], CLASS_IN);\n        index -= 1;\n        index = index >= 0 ? index : total - 1;\n        addClass(list[index], CLASS_IN);\n        _this7.playing.timeout = setTimeout(_prev, options.interval);\n      };\n      var _next = function next() {\n        clearTimeout(_this7.playing.timeout);\n        removeClass(list[index], CLASS_IN);\n        index += 1;\n        index = index < total ? index : 0;\n        addClass(list[index], CLASS_IN);\n        _this7.playing.timeout = setTimeout(_next, options.interval);\n      };\n      if (total > 1) {\n        this.playing = {\n          prev: _prev,\n          next: _next,\n          timeout: setTimeout(_next, options.interval)\n        };\n      }\n    }\n    return this;\n  },\n  // Stop play\n  stop: function stop() {\n    var _this8 = this;\n    if (!this.played) {\n      return this;\n    }\n    var element = this.element,\n      options = this.options;\n    if (isFunction(options.stop)) {\n      addListener(element, EVENT_STOP, options.stop, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_STOP) === false) {\n      return this;\n    }\n    var player = this.player;\n    clearTimeout(this.playing.timeout);\n    this.playing = false;\n    this.played = false;\n    forEach(player.getElementsByTagName('img'), function (image) {\n      removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n    });\n    removeClass(player, CLASS_SHOW);\n    player.innerHTML = '';\n    this.exitFullscreen();\n    return this;\n  },\n  // Enter modal mode (only available in inline mode)\n  full: function full() {\n    var _this9 = this;\n    var options = this.options,\n      viewer = this.viewer,\n      image = this.image,\n      list = this.list;\n    if (!this.isShown || this.played || this.fulled || !options.inline) {\n      return this;\n    }\n    this.fulled = true;\n    this.open();\n    addClass(this.button, CLASS_FULLSCREEN_EXIT);\n    if (options.transition) {\n      removeClass(list, CLASS_TRANSITION);\n      if (this.viewed) {\n        removeClass(image, CLASS_TRANSITION);\n      }\n    }\n    addClass(viewer, CLASS_FIXED);\n    viewer.setAttribute('role', 'dialog');\n    viewer.setAttribute('aria-labelledby', this.title.id);\n    viewer.setAttribute('aria-modal', true);\n    viewer.removeAttribute('style');\n    setStyle(viewer, {\n      zIndex: options.zIndex\n    });\n    if (options.focus) {\n      this.enforceFocus();\n    }\n    this.initContainer();\n    this.viewerData = assign({}, this.containerData);\n    this.renderList();\n    if (this.viewed) {\n      this.initImage(function () {\n        _this9.renderImage(function () {\n          if (options.transition) {\n            setTimeout(function () {\n              addClass(image, CLASS_TRANSITION);\n              addClass(list, CLASS_TRANSITION);\n            }, 0);\n          }\n        });\n      });\n    }\n    return this;\n  },\n  // Exit modal mode (only available in inline mode)\n  exit: function exit() {\n    var _this10 = this;\n    var options = this.options,\n      viewer = this.viewer,\n      image = this.image,\n      list = this.list;\n    if (!this.isShown || this.played || !this.fulled || !options.inline) {\n      return this;\n    }\n    this.fulled = false;\n    this.close();\n    removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n    if (options.transition) {\n      removeClass(list, CLASS_TRANSITION);\n      if (this.viewed) {\n        removeClass(image, CLASS_TRANSITION);\n      }\n    }\n    if (options.focus) {\n      this.clearEnforceFocus();\n    }\n    viewer.removeAttribute('role');\n    viewer.removeAttribute('aria-labelledby');\n    viewer.removeAttribute('aria-modal');\n    removeClass(viewer, CLASS_FIXED);\n    setStyle(viewer, {\n      zIndex: options.zIndexInline\n    });\n    this.viewerData = assign({}, this.parentData);\n    this.renderViewer();\n    this.renderList();\n    if (this.viewed) {\n      this.initImage(function () {\n        _this10.renderImage(function () {\n          if (options.transition) {\n            setTimeout(function () {\n              addClass(image, CLASS_TRANSITION);\n              addClass(list, CLASS_TRANSITION);\n            }, 0);\n          }\n        });\n      });\n    }\n    return this;\n  },\n  // Show the current ratio of the image with percentage\n  tooltip: function tooltip() {\n    var _this11 = this;\n    var options = this.options,\n      tooltipBox = this.tooltipBox,\n      imageData = this.imageData;\n    if (!this.viewed || this.played || !options.tooltip) {\n      return this;\n    }\n    tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n    if (!this.tooltipping) {\n      if (options.transition) {\n        if (this.fading) {\n          dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n        }\n        addClass(tooltipBox, CLASS_SHOW);\n        addClass(tooltipBox, CLASS_FADE);\n        addClass(tooltipBox, CLASS_TRANSITION);\n        tooltipBox.removeAttribute('aria-hidden');\n\n        // Force reflow to enable CSS3 transition\n        tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n        addClass(tooltipBox, CLASS_IN);\n      } else {\n        addClass(tooltipBox, CLASS_SHOW);\n        tooltipBox.removeAttribute('aria-hidden');\n      }\n    } else {\n      clearTimeout(this.tooltipping);\n    }\n    this.tooltipping = setTimeout(function () {\n      if (options.transition) {\n        addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n          removeClass(tooltipBox, CLASS_SHOW);\n          removeClass(tooltipBox, CLASS_FADE);\n          removeClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.setAttribute('aria-hidden', true);\n          _this11.fading = false;\n        }, {\n          once: true\n        });\n        removeClass(tooltipBox, CLASS_IN);\n        _this11.fading = true;\n      } else {\n        removeClass(tooltipBox, CLASS_SHOW);\n        tooltipBox.setAttribute('aria-hidden', true);\n      }\n      _this11.tooltipping = false;\n    }, 1000);\n    return this;\n  },\n  /**\n   * Toggle the image size between its current size and natural size\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @returns {Viewer} this\n   */\n  toggle: function toggle() {\n    var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    if (this.imageData.ratio === 1) {\n      this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\n    } else {\n      this.zoomTo(1, true, null, _originalEvent);\n    }\n    return this;\n  },\n  // Reset the image to its initial state\n  reset: function reset() {\n    if (this.viewed && !this.played) {\n      this.imageData = assign({}, this.initialImageData);\n      this.renderImage();\n    }\n    return this;\n  },\n  // Update viewer when images changed\n  update: function update() {\n    var _this12 = this;\n    var element = this.element,\n      options = this.options,\n      isImg = this.isImg;\n\n    // Destroy viewer if the target image was deleted\n    if (isImg && !element.parentNode) {\n      return this.destroy();\n    }\n    var images = [];\n    forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n      if (isFunction(options.filter)) {\n        if (options.filter.call(_this12, image)) {\n          images.push(image);\n        }\n      } else if (_this12.getImageURL(image)) {\n        images.push(image);\n      }\n    });\n    if (!images.length) {\n      return this;\n    }\n    this.images = images;\n    this.length = images.length;\n    if (this.ready) {\n      var changedIndexes = [];\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = images[i];\n        if (image && img) {\n          if (image.src !== img.src\n\n          // Title changed (#408)\n          || image.alt !== img.alt) {\n            changedIndexes.push(i);\n          }\n        } else {\n          changedIndexes.push(i);\n        }\n      });\n      setStyle(this.list, {\n        width: 'auto'\n      });\n      this.initList();\n      if (this.isShown) {\n        if (this.length) {\n          if (this.viewed) {\n            var changedIndex = changedIndexes.indexOf(this.index);\n            if (changedIndex >= 0) {\n              this.viewed = false;\n              this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n            } else {\n              var activeItem = this.items[this.index];\n\n              // Reactivate the current viewing item after reset the list.\n              addClass(activeItem, CLASS_ACTIVE);\n              activeItem.setAttribute('aria-selected', true);\n            }\n          }\n        } else {\n          this.image = null;\n          this.viewed = false;\n          this.index = 0;\n          this.imageData = {};\n          this.canvas.innerHTML = '';\n          this.title.innerHTML = '';\n        }\n      }\n    } else {\n      this.build();\n    }\n    return this;\n  },\n  // Destroy the viewer\n  destroy: function destroy() {\n    var element = this.element,\n      options = this.options;\n    if (!element[NAMESPACE]) {\n      return this;\n    }\n    this.destroyed = true;\n    if (this.ready) {\n      if (this.played) {\n        this.stop();\n      }\n      if (options.inline) {\n        if (this.fulled) {\n          this.exit();\n        }\n        this.unbind();\n      } else if (this.isShown) {\n        if (this.viewing) {\n          if (this.imageRendering) {\n            this.imageRendering.abort();\n          } else if (this.imageInitializing) {\n            this.imageInitializing.abort();\n          }\n        }\n        if (this.hiding) {\n          this.transitioning.abort();\n        }\n        this.hidden();\n      } else if (this.showing) {\n        this.transitioning.abort();\n        this.hidden();\n      }\n      this.ready = false;\n      this.viewer.parentNode.removeChild(this.viewer);\n    } else if (options.inline) {\n      if (this.delaying) {\n        this.delaying.abort();\n      } else if (this.initializing) {\n        this.initializing.abort();\n      }\n    }\n    if (!options.inline) {\n      removeListener(element, EVENT_CLICK, this.onStart);\n    }\n    element[NAMESPACE] = undefined;\n    return this;\n  }\n};\n\nvar others = {\n  getImageURL: function getImageURL(image) {\n    var url = this.options.url;\n    if (isString(url)) {\n      url = image.getAttribute(url);\n    } else if (isFunction(url)) {\n      url = url.call(this, image);\n    } else {\n      url = '';\n    }\n    return url;\n  },\n  enforceFocus: function enforceFocus() {\n    var _this = this;\n    this.clearEnforceFocus();\n    addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n      var viewer = _this.viewer;\n      var target = event.target;\n      if (target === document || target === viewer || viewer.contains(target)) {\n        return;\n      }\n      while (target) {\n        // Avoid conflicts with other modals (#474, #540)\n        if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n          return;\n        }\n        target = target.parentElement;\n      }\n      viewer.focus();\n    });\n  },\n  clearEnforceFocus: function clearEnforceFocus() {\n    if (this.onFocusin) {\n      removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n      this.onFocusin = null;\n    }\n  },\n  open: function open() {\n    var body = this.body;\n    addClass(body, CLASS_OPEN);\n    if (this.scrollbarWidth > 0) {\n      body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n    }\n  },\n  close: function close() {\n    var body = this.body;\n    removeClass(body, CLASS_OPEN);\n    if (this.scrollbarWidth > 0) {\n      body.style.paddingRight = this.initialBodyPaddingRight;\n    }\n  },\n  shown: function shown() {\n    var element = this.element,\n      options = this.options,\n      viewer = this.viewer;\n    this.fulled = true;\n    this.isShown = true;\n    this.render();\n    this.bind();\n    this.showing = false;\n    if (options.focus) {\n      viewer.focus();\n      this.enforceFocus();\n    }\n    if (isFunction(options.shown)) {\n      addListener(element, EVENT_SHOWN, options.shown, {\n        once: true\n      });\n    }\n    if (dispatchEvent(element, EVENT_SHOWN) === false) {\n      return;\n    }\n    if (this.ready && this.isShown && !this.hiding) {\n      this.view(this.index);\n    }\n  },\n  hidden: function hidden() {\n    var element = this.element,\n      options = this.options,\n      viewer = this.viewer;\n    if (options.fucus) {\n      this.clearEnforceFocus();\n    }\n    this.close();\n    this.unbind();\n    addClass(viewer, CLASS_HIDE);\n    viewer.removeAttribute('role');\n    viewer.removeAttribute('aria-labelledby');\n    viewer.removeAttribute('aria-modal');\n    viewer.setAttribute('aria-hidden', true);\n    this.resetList();\n    this.resetImage();\n    this.fulled = false;\n    this.viewed = false;\n    this.isShown = false;\n    this.hiding = false;\n    if (!this.destroyed) {\n      if (isFunction(options.hidden)) {\n        addListener(element, EVENT_HIDDEN, options.hidden, {\n          once: true\n        });\n      }\n      dispatchEvent(element, EVENT_HIDDEN, null, {\n        cancelable: false\n      });\n    }\n  },\n  requestFullscreen: function requestFullscreen(options) {\n    var document = this.element.ownerDocument;\n    if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n      var documentElement = document.documentElement;\n\n      // Element.requestFullscreen()\n      if (documentElement.requestFullscreen) {\n        // Avoid TypeError when convert `options` to dictionary\n        if (isPlainObject(options)) {\n          documentElement.requestFullscreen(options);\n        } else {\n          documentElement.requestFullscreen();\n        }\n      } else if (documentElement.webkitRequestFullscreen) {\n        documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n      } else if (documentElement.mozRequestFullScreen) {\n        documentElement.mozRequestFullScreen();\n      } else if (documentElement.msRequestFullscreen) {\n        documentElement.msRequestFullscreen();\n      }\n    }\n  },\n  exitFullscreen: function exitFullscreen() {\n    var document = this.element.ownerDocument;\n    if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n      // Document.exitFullscreen()\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      }\n    }\n  },\n  change: function change(event) {\n    var options = this.options,\n      pointers = this.pointers;\n    var pointer = pointers[Object.keys(pointers)[0]];\n\n    // In the case of the `pointers` object is empty (#421)\n    if (!pointer) {\n      return;\n    }\n    var offsetX = pointer.endX - pointer.startX;\n    var offsetY = pointer.endY - pointer.startY;\n    switch (this.action) {\n      // Move the current image\n      case ACTION_MOVE:\n        if (offsetX !== 0 || offsetY !== 0) {\n          this.pointerMoved = true;\n          this.move(offsetX, offsetY, event);\n        }\n        break;\n\n      // Zoom the current image\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), false, null, event);\n        break;\n      case ACTION_SWITCH:\n        {\n          this.action = 'switched';\n          var absoluteOffsetX = Math.abs(offsetX);\n          if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n            // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n            this.pointers = {};\n            if (offsetX > 1) {\n              this.prev(options.loop);\n            } else if (offsetX < -1) {\n              this.next(options.loop);\n            }\n          }\n          break;\n        }\n    }\n\n    // Override\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  },\n  isSwitchable: function isSwitchable() {\n    var imageData = this.imageData,\n      viewerData = this.viewerData;\n    return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n  }\n};\n\nvar AnotherViewer = WINDOW.Viewer;\nvar getUniqueID = function (id) {\n  return function () {\n    id += 1;\n    return id;\n  };\n}(-1);\nvar Viewer = /*#__PURE__*/function () {\n  /**\n   * Create a new Viewer.\n   * @param {Element} element - The target element for viewing.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Viewer(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Viewer);\n    if (!element || element.nodeType !== 1) {\n      throw new Error('The first argument is required and must be an element.');\n    }\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.action = false;\n    this.fading = false;\n    this.fulled = false;\n    this.hiding = false;\n    this.imageClicked = false;\n    this.imageData = {};\n    this.index = this.options.initialViewIndex;\n    this.isImg = false;\n    this.isShown = false;\n    this.length = 0;\n    this.moving = false;\n    this.played = false;\n    this.playing = false;\n    this.pointers = {};\n    this.ready = false;\n    this.rotating = false;\n    this.scaling = false;\n    this.showing = false;\n    this.timeout = false;\n    this.tooltipping = false;\n    this.viewed = false;\n    this.viewing = false;\n    this.wheeling = false;\n    this.zooming = false;\n    this.pointerMoved = false;\n    this.id = getUniqueID();\n    this.init();\n  }\n  return _createClass(Viewer, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n      var element = this.element,\n        options = this.options;\n      if (element[NAMESPACE]) {\n        return;\n      }\n      element[NAMESPACE] = this;\n\n      // The `focus` option requires the `keyboard` option set to `true`.\n      if (options.focus && !options.keyboard) {\n        options.focus = false;\n      }\n      var isImg = element.localName === 'img';\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this, image)) {\n            images.push(image);\n          }\n        } else if (_this.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n      this.isImg = isImg;\n      this.length = images.length;\n      this.images = images;\n      this.initBody();\n\n      // Override `transition` option if it is not supported\n      if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n        options.transition = false;\n      }\n      if (options.inline) {\n        var count = 0;\n        var progress = function progress() {\n          count += 1;\n          if (count === _this.length) {\n            var timeout;\n            _this.initializing = false;\n            _this.delaying = {\n              abort: function abort() {\n                clearTimeout(timeout);\n              }\n            };\n\n            // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n            timeout = setTimeout(function () {\n              _this.delaying = false;\n              _this.build();\n            }, 0);\n          }\n        };\n        this.initializing = {\n          abort: function abort() {\n            forEach(images, function (image) {\n              if (!image.complete) {\n                removeListener(image, EVENT_LOAD, progress);\n                removeListener(image, EVENT_ERROR, progress);\n              }\n            });\n          }\n        };\n        forEach(images, function (image) {\n          if (image.complete) {\n            progress();\n          } else {\n            var onLoad;\n            var onError;\n            addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n              removeListener(image, EVENT_ERROR, onError);\n              progress();\n            }, {\n              once: true\n            });\n            addListener(image, EVENT_ERROR, onError = function onError() {\n              removeListener(image, EVENT_LOAD, onLoad);\n              progress();\n            }, {\n              once: true\n            });\n          }\n        });\n      } else {\n        addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n          var target = _ref.target;\n          if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n            _this.view(_this.images.indexOf(target));\n          }\n        });\n      }\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      if (this.ready) {\n        return;\n      }\n      var element = this.element,\n        options = this.options;\n      var parent = element.parentNode;\n      var template = document.createElement('div');\n      template.innerHTML = TEMPLATE;\n      var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n      var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n      var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n      var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n      var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n      var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n      this.parent = parent;\n      this.viewer = viewer;\n      this.title = title;\n      this.toolbar = toolbar;\n      this.navbar = navbar;\n      this.button = button;\n      this.canvas = canvas;\n      this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n      this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n      this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n      this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n      viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n      title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n      addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n      addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n      toggleClass(button, CLASS_HIDE, !options.button);\n      if (options.keyboard) {\n        button.setAttribute('tabindex', 0);\n      }\n      if (options.backdrop) {\n        addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n        if (!options.inline && options.backdrop !== 'static') {\n          setData(canvas, DATA_ACTION, 'hide');\n        }\n      }\n      if (isString(options.className) && options.className) {\n        // In case there are multiple class names\n        options.className.split(REGEXP_SPACES).forEach(function (className) {\n          addClass(viewer, className);\n        });\n      }\n      if (options.toolbar) {\n        var list = document.createElement('ul');\n        var custom = isPlainObject(options.toolbar);\n        var zoomButtons = BUTTONS.slice(0, 3);\n        var rotateButtons = BUTTONS.slice(7, 9);\n        var scaleButtons = BUTTONS.slice(9);\n        if (!custom) {\n          addClass(toolbar, getResponsiveClass(options.toolbar));\n        }\n        forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n          var deep = custom && isPlainObject(value);\n          var name = custom ? hyphenate(index) : value;\n          var show = deep && !isUndefined(value.show) ? value.show : value;\n          if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n            return;\n          }\n          var size = deep && !isUndefined(value.size) ? value.size : value;\n          var click = deep && !isUndefined(value.click) ? value.click : value;\n          var item = document.createElement('li');\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n          item.setAttribute('role', 'button');\n          addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n          if (!isFunction(click)) {\n            setData(item, DATA_ACTION, name);\n          }\n          if (isNumber(show)) {\n            addClass(item, getResponsiveClass(show));\n          }\n          if (['small', 'large'].indexOf(size) !== -1) {\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n          } else if (name === 'play') {\n            addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n          }\n          if (isFunction(click)) {\n            addListener(item, EVENT_CLICK, click);\n          }\n          list.appendChild(item);\n        });\n        toolbar.appendChild(list);\n      } else {\n        addClass(toolbar, CLASS_HIDE);\n      }\n      if (!options.rotatable) {\n        var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n        addClass(rotates, CLASS_INVISIBLE);\n        forEach(rotates, function (rotate) {\n          toolbar.appendChild(rotate);\n        });\n      }\n      if (options.inline) {\n        addClass(button, CLASS_FULLSCREEN);\n        setStyle(viewer, {\n          zIndex: options.zIndexInline\n        });\n        if (window.getComputedStyle(parent).position === 'static') {\n          setStyle(parent, {\n            position: 'relative'\n          });\n        }\n        parent.insertBefore(viewer, element.nextSibling);\n      } else {\n        addClass(button, CLASS_CLOSE);\n        addClass(viewer, CLASS_FIXED);\n        addClass(viewer, CLASS_FADE);\n        addClass(viewer, CLASS_HIDE);\n        setStyle(viewer, {\n          zIndex: options.zIndex\n        });\n        var container = options.container;\n        if (isString(container)) {\n          container = element.ownerDocument.querySelector(container);\n        }\n        if (!container) {\n          container = this.body;\n        }\n        container.appendChild(viewer);\n      }\n      if (options.inline) {\n        this.render();\n        this.bind();\n        this.isShown = true;\n      }\n      this.ready = true;\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_READY) === false) {\n        this.ready = false;\n        return;\n      }\n      if (this.ready && options.inline) {\n        this.view(this.index);\n      }\n    }\n\n    /**\n     * Get the no conflict viewer class.\n     * @returns {Viewer} The viewer class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Viewer = AnotherViewer;\n      return Viewer;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n}();\nassign(Viewer.prototype, render, events, handlers, methods, others);\n\nexport { Viewer as default };\n", "const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(func: (...args: any[]) => T): (...args: any[]) => T {\n  return (...args: any[]): T => construct(func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n", "/* eslint-disable @typescript-eslint/indent */\n\nimport type { TrustedHTML, TrustedTypesWindow } from 'trusted-types/lib';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<\n    T extends\n      | NodeHook\n      | ElementHook\n      | DocumentFragmentHook\n      | UponSanitizeElementHook\n      | UponSanitizeAttributeHook\n  >(hooks: T[], currentNode: Parameters<T>[0], data: Parameters<T>[1]): void {\n    arrayForEach(hooks, (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n", "/*\r\n * @Author: Anxure\r\n * @Desc:\r\n * @Date: 2023-04-03 11:38:24\r\n * @LastEditors: ykx\r\n * @LastEditTime: 2024-01-08 17:51:11\r\n */\r\n// 字符串中的链接转成a标签, innerhtml 事件会丢失？？ 这里判断是否是某些内部链接，追加rel=\"opener\" 保留跳转session\r\n\r\nimport DOMPurify from 'dompurify';\r\nexport const vLinkTransform = {\r\n  mounted(el?: HTMLElement, binding?: any) {\r\n    if (el) {\r\n      // URL正则表达式(看不懂，是否覆盖完全？？TODO:url解析库？)\r\n      const urlRegex = /(https?|http|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g\r\n\r\n      const baseInnerhtml = binding?.value ?? '';\r\n      // 替换文本中的URL为<a>标签\r\n      const htmlText = baseInnerhtml.replace(urlRegex, (match: any) => {\r\n        const isSysLink = match.includes('/easycube/preview');\r\n        return `<a href=\"${match}\" target=\"_blank\" ${isSysLink && 'rel=\"opener\"'}>${match}</a>`;\r\n      });\r\n      el.innerHTML = DOMPurify.sanitize(htmlText);\r\n    }\r\n  },\r\n};\r\n", "export const vSelect = {\n  mounted(el?: HTMLInputElement, binding?: any) {\n    const defaultSelect = binding?.value ?? true;\n    if (!defaultSelect) {\n      return;\n    }\n    if (el?.tagName !== 'INPUT') {\n      el?.querySelector('input')?.focus();\n      el?.querySelector('input')?.select();\n      return;\n    }\n\n    el?.focus();\n    el?.select();\n  },\n};\n"],
  "mappings": "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KAAK,IAAI;IACjB;EACF;AAEA,SAAON;AACT;AAQA,SAASQ,MAAqCC,QAAS;AACrD,QAAMC,YAAYhE,QAAO,IAAI;AAE7B,aAAW,CAACiE,UAAUC,KAAK,KAAK1E,QAAQuE,MAAM,GAAG;AAC/C,UAAMF,kBAAkB1B,qBAAqB4B,QAAQE,QAAQ;AAE7D,QAAIJ,iBAAiB;AACnB,UAAIlD,MAAMwD,QAAQD,KAAK,GAAG;AACxBF,kBAAUC,QAAQ,IAAIN,WAAWO,KAAK;MACxC,WACEA,SACA,OAAOA,UAAU,YACjBA,MAAME,gBAAgBvE,QACtB;AACAmE,kBAAUC,QAAQ,IAAIH,MAAMI,KAAK;MACnC,OAAO;AACLF,kBAAUC,QAAQ,IAAIC;MACxB;IACF;EACF;AAEA,SAAOF;AACT;AASA,SAASK,aACPN,QACAO,MAAY;AAEZ,SAAOP,WAAW,MAAM;AACtB,UAAMQ,OAAO3E,yBAAyBmE,QAAQO,IAAI;AAElD,QAAIC,MAAM;AACR,UAAIA,KAAKC,KAAK;AACZ,eAAO9D,QAAQ6D,KAAKC,GAAG;MACzB;AAEA,UAAI,OAAOD,KAAKL,UAAU,YAAY;AACpC,eAAOxD,QAAQ6D,KAAKL,KAAK;MAC3B;IACF;AAEAH,aAASpE,eAAeoE,MAAM;EAChC;AAEA,WAASU,gBAAa;AACpB,WAAO;EACT;AAEA,SAAOA;AACT;AC3MO,IAAMC,SAAO5E,OAAO,CACzB,KACA,QACA,WACA,WACA,QACA,WACA,SACA,SACA,KACA,OACA,OACA,OACA,SACA,cACA,QACA,MACA,UACA,UACA,WACA,UACA,QACA,QACA,OACA,YACA,WACA,QACA,YACA,MACA,aACA,OACA,WACA,OACA,UACA,OACA,OACA,MACA,MACA,WACA,MACA,YACA,cACA,UACA,QACA,UACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,UACA,UACA,MACA,QACA,KACA,OACA,SACA,OACA,OACA,SACA,UACA,MACA,QACA,OACA,QACA,WACA,QACA,YACA,SACA,OACA,QACA,MACA,YACA,UACA,UACA,KACA,WACA,OACA,YACA,KACA,MACA,MACA,QACA,KACA,QACA,WACA,UACA,UACA,SACA,UACA,UACA,QACA,UACA,UACA,SACA,OACA,WACA,OACA,SACA,SACA,MACA,YACA,YACA,SACA,MACA,SACA,QACA,MACA,SACA,MACA,KACA,MACA,OACA,SACA,KAAK,CACG;AAEH,IAAM6E,QAAM7E,OAAO,CACxB,OACA,KACA,YACA,eACA,gBACA,gBACA,iBACA,oBACA,UACA,YACA,QACA,QACA,WACA,UACA,QACA,KACA,SACA,YACA,SACA,SACA,QACA,kBACA,UACA,QACA,YACA,SACA,QACA,WACA,WACA,YACA,kBACA,QACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,QACA,SACA,QACA,OAAO,CACC;AAEH,IAAM8E,aAAa9E,OAAO,CAC/B,WACA,iBACA,uBACA,eACA,oBACA,qBACA,qBACA,kBACA,gBACA,WACA,WACA,WACA,WACA,WACA,kBACA,WACA,WACA,eACA,gBACA,YACA,gBACA,sBACA,eACA,UACA,cAAc,CACN;AAMH,IAAM+E,gBAAgB/E,OAAO,CAClC,WACA,iBACA,UACA,WACA,aACA,oBACA,kBACA,iBACA,iBACA,iBACA,SACA,aACA,QACA,gBACA,aACA,WACA,iBACA,UACA,OACA,cACA,WACA,KAAK,CACG;AAEH,IAAMgF,WAAShF,OAAO,CAC3B,QACA,YACA,UACA,WACA,SACA,UACA,MACA,cACA,iBACA,MACA,MACA,SACA,WACA,YACA,SACA,QACA,MACA,UACA,SACA,UACA,QACA,QACA,WACA,UACA,OACA,SACA,OACA,UACA,cACA,aAAa,CACL;AAIH,IAAMiF,mBAAmBjF,OAAO,CACrC,WACA,eACA,cACA,YACA,aACA,WACA,WACA,UACA,UACA,SACA,aACA,cACA,kBACA,eACA,MAAM,CACE;AAEH,IAAMkF,OAAOlF,OAAO,CAAC,OAAO,CAAU;ACpRtC,IAAM4E,OAAO5E,OAAO,CACzB,UACA,UACA,SACA,OACA,kBACA,gBACA,wBACA,YACA,cACA,WACA,UACA,WACA,eACA,eACA,WACA,QACA,SACA,SACA,SACA,QACA,WACA,YACA,gBACA,UACA,eACA,YACA,YACA,WACA,OACA,YACA,2BACA,yBACA,YACA,aACA,WACA,gBACA,QACA,OACA,WACA,UACA,UACA,QACA,QACA,YACA,MACA,aACA,aACA,SACA,QACA,SACA,QACA,QACA,WACA,QACA,OACA,OACA,aACA,SACA,UACA,OACA,aACA,YACA,SACA,QACA,SACA,WACA,cACA,UACA,QACA,WACA,WACA,eACA,eACA,WACA,iBACA,uBACA,UACA,WACA,WACA,cACA,YACA,OACA,YACA,OACA,YACA,QACA,QACA,WACA,cACA,SACA,YACA,SACA,QACA,SACA,QACA,WACA,SACA,OACA,UACA,QACA,SACA,WACA,YACA,SACA,aACA,QACA,UACA,UACA,SACA,SACA,QACA,SACA,MAAM,CACE;AAEH,IAAM6E,MAAM7E,OAAO,CACxB,iBACA,cACA,YACA,sBACA,aACA,UACA,iBACA,iBACA,WACA,iBACA,kBACA,SACA,QACA,MACA,SACA,QACA,iBACA,aACA,aACA,SACA,uBACA,+BACA,iBACA,mBACA,MACA,MACA,KACA,MACA,MACA,mBACA,aACA,WACA,WACA,OACA,YACA,aACA,OACA,YACA,QACA,gBACA,aACA,UACA,eACA,eACA,iBACA,eACA,aACA,oBACA,gBACA,cACA,gBACA,eACA,MACA,MACA,MACA,MACA,cACA,YACA,iBACA,qBACA,UACA,QACA,MACA,mBACA,MACA,OACA,aACA,KACA,MACA,MACA,MACA,MACA,WACA,aACA,cACA,YACA,QACA,gBACA,kBACA,gBACA,oBACA,kBACA,SACA,cACA,cACA,gBACA,gBACA,eACA,eACA,oBACA,aACA,OACA,QACA,SACA,UACA,QACA,OACA,QACA,cACA,UACA,YACA,WACA,SACA,UACA,eACA,UACA,YACA,eACA,QACA,cACA,uBACA,oBACA,gBACA,UACA,iBACA,uBACA,kBACA,KACA,MACA,MACA,UACA,QACA,QACA,eACA,aACA,WACA,UACA,UACA,SACA,QACA,mBACA,SACA,oBACA,oBACA,gBACA,eACA,gBACA,eACA,cACA,gBACA,oBACA,qBACA,kBACA,mBACA,qBACA,kBACA,UACA,gBACA,SACA,gBACA,kBACA,YACA,eACA,WACA,WACA,aACA,oBACA,eACA,mBACA,kBACA,cACA,QACA,MACA,MACA,WACA,UACA,WACA,cACA,WACA,cACA,iBACA,iBACA,SACA,gBACA,QACA,gBACA,oBACA,oBACA,KACA,MACA,MACA,SACA,KACA,MACA,MACA,KACA,YAAY,CACJ;AAEH,IAAMgF,SAAShF,OAAO,CAC3B,UACA,eACA,SACA,YACA,SACA,gBACA,eACA,cACA,cACA,SACA,OACA,WACA,gBACA,YACA,SACA,SACA,UACA,QACA,MACA,WACA,UACA,iBACA,UACA,UACA,kBACA,aACA,YACA,eACA,WACA,WACA,iBACA,YACA,YACA,QACA,YACA,YACA,cACA,WACA,UACA,UACA,eACA,iBACA,wBACA,aACA,aACA,cACA,YACA,kBACA,kBACA,aACA,WACA,SACA,OAAO,CACR;AAEM,IAAMmF,MAAMnF,OAAO,CACxB,cACA,UACA,eACA,aACA,aAAa,CACL;AC/WH,IAAMoF,gBAAgBnF,KAAK,2BAA2B;AACtD,IAAMoF,WAAWpF,KAAK,uBAAuB;AAC7C,IAAMqF,cAAcrF,KAAK,eAAe;AACxC,IAAMsF,YAAYtF,KAAK,8BAA8B;AACrD,IAAMuF,YAAYvF,KAAK,gBAAgB;AACvC,IAAMwF,iBAAiBxF;EAC5B;;;AAEK,IAAMyF,oBAAoBzF,KAAK,uBAAuB;AACtD,IAAM0F,kBAAkB1F;EAC7B;;;AAEK,IAAM2F,eAAe3F,KAAK,SAAS;AACnC,IAAM4F,iBAAiB5F,KAAK,0BAA0B;;;;;;;;;;;;;;ACmB7D,IAAM6F,YAAY;EAChBnC,SAAS;EACToC,WAAW;EACXb,MAAM;EACNc,cAAc;EACdC,iBAAiB;;EACjBC,YAAY;;EACZC,wBAAwB;EACxBC,SAAS;EACTC,UAAU;EACVC,cAAc;EACdC,kBAAkB;EAClBC,UAAU;;;AAGZ,I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",
  "names": ["e", "_", "t", "dayjs", "customParseFormat", "style", "text", "r", "o", "assign", "listener", "rotate", "scaleX", "scaleY", "render", "onLoad", "onError", "next", "onTransitionEnd", "document", "shown", "hideImmediately", "onImageTransitionEnd", "onViewed", "prev", "Viewer", "progress", "show", "click", "entries", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "Object", "freeze", "seal", "create", "apply", "construct", "Reflect", "x", "fun", "thisValue", "args", "Func", "arrayForEach", "unapply", "Array", "prototype", "forEach", "arrayLastIndexOf", "lastIndexOf", "arrayPop", "pop", "arrayPush", "push", "arraySplice", "splice", "stringToLowerCase", "String", "toLowerCase", "stringToString", "toString", "stringMatch", "match", "stringReplace", "replace", "stringIndexOf", "indexOf", "stringTrim", "trim", "objectHasOwnProperty", "hasOwnProperty", "regExpTest", "RegExp", "test", "typeErrorCreate", "unconstruct", "TypeError", "func", "thisArg", "lastIndex", "_len", "arguments", "length", "_key", "_len2", "_key2", "addToSet", "set", "array", "transformCaseFunc", "l", "element", "lcElement", "cleanArray", "index", "isPropertyExist", "clone", "object", "newObject", "property", "value", "isArray", "constructor", "lookupGetter", "prop", "desc", "get", "fallbackValue", "html", "svg", "svgFilters", "svgDisallowed", "mathMl", "mathMlDisallowed", "text", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "CUSTOM_ELEMENT", "NODE_TYPE", "attribute", "cdataSection", "entityReference", "entityNode", "progressingInstruction", "comment", "document", "documentType", "documentFragment", "notation", "getGlobal", "window", "_createTrustedTypesPolicy", "trustedTypes", "purifyHostElement", "createPolicy", "suffix", "ATTR_NAME", "hasAttribute", "getAttribute", "policyName", "createHTML", "createScriptURL", "scriptUrl", "_", "console", "warn", "_createHooksMap", "afterSanitizeAttributes", "afterSanitizeElements", "afterSanitizeShadowDOM", "beforeSanitizeAttributes", "beforeSanitizeElements", "beforeSanitizeShadowDOM", "uponSanitizeAttribute", "uponSanitizeElement", "uponSanitizeShadowNode", "createDOMPurify", "undefined", "DOMPurify", "root", "version", "VERSION", "removed", "nodeType", "Element", "isSupported", "originalDocument", "currentScript", "DocumentFragment", "HTMLTemplateElement", "Node", "NodeFilter", "NamedNodeMap", "MozNamedAttrMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "remove", "getNextSibling", "getChildNodes", "getParentNode", "template", "createElement", "content", "ownerDocument", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "hooks", "createHTMLDocument", "EXPRESSIONS", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "ATTRS", "CUSTOM_ELEMENT_HANDLING", "tagNameCheck", "writable", "configurable", "enumerable", "attributeNameCheck", "allowCustomizedBuiltInElements", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "SAFE_FOR_XML", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "formElement", "isRegexOrFunction", "testValue", "Function", "_parseConfig", "cfg", "ADD_URI_SAFE_ATTR", "ADD_DATA_URI_TAGS", "ALLOWED_URI_REGEXP", "ADD_TAGS", "ADD_ATTR", "table", "tbody", "TRUSTED_TYPES_POLICY", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "namespaceURI", "parentTagName", "Boolean", "_forceRemove", "node", "removeChild", "_removeAttribute", "name", "getAttributeNode", "from", "removeAttribute", "setAttribute", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "parseFromString", "documentElement", "createDocument", "innerHTML", "body", "insertBefore", "createTextNode", "childNodes", "call", "_createNodeIterator", "SHOW_ELEMENT", "SHOW_COMMENT", "SHOW_TEXT", "SHOW_PROCESSING_INSTRUCTION", "SHOW_CDATA_SECTION", "_isClobbered", "nodeName", "textContent", "attributes", "hasChildNodes", "_isNode", "_executeHooks", "currentNode", "data", "hook", "_sanitizeElements", "allowedTags", "firstElementChild", "_isBasicCustomElement", "parentNode", "childCount", "i", "childClone", "__removalCount", "expr", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "hookEvent", "attrName", "attrValue", "keepAttr", "allowedAttributes", "forceKeepAttr", "attr", "initValue", "getAttributeType", "setAttributeNS", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "nextNode", "sanitize", "importedNode", "returnNode", "appendChild", "firstChild", "nodeIterator", "shadowroot", "shadowrootmode", "serializedHTML", "outerHTML", "doctype", "setConfig", "clearConfig", "isValidAttribute", "tag", "addHook", "entryPoint", "hookFunction", "removeHook", "removeHooks", "removeAllHooks", "default"]
}
